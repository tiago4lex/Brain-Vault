2025-09-23 19:28

Status: #developed #SQL 

Tags: [[4 - Indexes/SQL|SQL]]

----
# O que é DDL?

## Definição

DDL *(Data Definition Language)* é um subconjunto do SQL utilizado para definir, modificar e excluir a estrutura do banco de dados e seus objetos. Diferente do DML que manipula dados, o DDL manipula a estrutura.

## Características Principais

- **Estrutural:** Define o esquema do banco de dados.
- **Auto-commit:** Comandos são confirmados automaticamente.
- **Não transicional:** Não pode ser revertido com ROLLBACK (na maioria dos SGBDs).
- **Administrativo:** Geralmente usado por DBAs e desenvolvedores.

## Comandos DDL Principais

```sql
CREATE    -- Criar objetos
ALTER     -- Modificar objetos
DROP      -- Excluir objetos
TRUNCATE  -- Esvaziar tabelas
RENAME    -- Renomear objetos
```

---
# Comando `CREATE` - Criação de Objetos

## `CREATE DATABASE`

```sql
CREATE DATABASE nome_banco
[CHARACTER SET charset]
[COLLATE collation];

-- Exemplo
CREATE DATABASE empresa
CHARACTER SET utf8mb4
COLLATE utf8mb4_unicode_ci;
```

## `CREATE TABLE` - Sintaxe Completa

```sql
CREATE TABLE nome_tabela (
    coluna1 tipo_dado [constraints],
    coluna2 tipo_dado [constraints],
    ...
    [constraints_de_tabela]
) [opções_da_tabela];
```

## Tipos de Dados Comuns

```sql
-- Numéricos
INT, INTEGER, SMALLINT, BIGINT
DECIMAL(10,2), NUMERIC(8,4)
FLOAT, REAL, DOUBLE

-- Texto
CHAR(10)        -- Tamanho fixo
VARCHAR(255)    -- Tamanho variável
TEXT            -- Texto longo

-- Data/Hora
DATE            -- Apenas data
TIME            -- Apenas hora
DATETIME        -- Data e hora
TIMESTAMP       -- Marco temporal

-- Booleanos
BOOLEAN, BOOL   -- TRUE/FALSE
```

## Exemplos de `CREATE TABLE`

```sql
-- Tabela simples
CREATE TABLE clientes (
    id INT PRIMARY KEY,
    nome VARCHAR(100) NOT NULL,
    email VARCHAR(255) UNIQUE,
    data_nascimento DATE,
    ativo BOOLEAN DEFAULT TRUE
);

-- Tabela com chaves estrangeiras
CREATE TABLE pedidos (
    id INT PRIMARY KEY,
    cliente_id INT NOT NULL,
    data_pedido DATE DEFAULT CURRENT_DATE,
    valor_total DECIMAL(10,2),
    FOREIGN KEY (cliente_id) REFERENCES clientes(id)
);

-- Tabela com constraints avançadas
CREATE TABLE produtos (
    id INT PRIMARY KEY AUTO_INCREMENT,
    nome VARCHAR(200) NOT NULL,
    preco DECIMAL(10,2) CHECK (preco > 0),
    categoria VARCHAR(50) DEFAULT 'Geral',
    data_cadastro TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    UNIQUE (nome, categoria)
);
```