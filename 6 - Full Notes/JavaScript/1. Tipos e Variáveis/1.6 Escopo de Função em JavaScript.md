2025-08-11 09:20

Status: #developed #javascript 

Tags: [[JavaScript]]

----
# Introdução

## O que é Escopo de Função?

O **escopo de função** é aquele onde variáveis e constantes só podem ser acessadas **dentro da função onde foram declaradas**.

- Criado **sempre** que uma função é executada.
- Todas as variáveis declaradas com `var`, `let` ou `const` **dentro** da função ficam restritas a ela.
- Não importa se existe outro bloco `{}` dentro da função — o escopo ainda será da função.

---
# Como funciona?

Quando você executa uma função, o JavaScript cria um **ambiente local** (escopo local) para armazenar variáveis e parâmetros.

Assim que a função termina, essas variáveis **são destruídas  e não podem mais ser acessadas**.

## Exemplo básico

```javascript
function apresentar() {
	let nome = "Carlos";
	console.log(`Olá, meu nome é ${nome}.`);
}

apresentar();      // Olá, meu nome é Carlos.
console.log(nome); // Erro: nome is not defined
```

## Função com `var` (mesmo comportamento no escopo da função)

```javascript
function testeVar() {
	var mensagem = "Estou dentro da função";
	console.log(mensagem);
}

testeVar();            // Estou dentro da função
console.log(mensagem); // Erro: mensagem is not defined
```

---
# Diferenças de Escopo

| **Tipo de Escopo** | **Onde existe**        | **Acessível fora?** | **Observações**                     |
| ------------------ | ---------------------- | ------------------- | ----------------------------------- |
| Global             | Fora de funções/blocos | ✅                   | Risco de conflitos                  |
| De Função          | Dentro de funções      | ❌                   | Criado ao executar a função         |
| De Bloco           | Dentro de `{ }`        | ❌                   | `let` e `const` respeitam `var` não |

---
# Parâmetros da Função também pertencem ao Escopo de Função

Os parâmetros recebidos pela função **também fazem parte do seu escopo** e só existem dentro dela.

```javascript
function some(a, b) {
	return a + b;
}

console.log(soma(3, 4)); // 7
console.log(a);          // Erro: a is not defined
```

---
# Funções Aninhadas e Escopo de Função

Funções podem ser **aninhadas** (declaradas dentro de outras funções).

A função interna **tem acesso** às variáveis de função externa (conceito chamado ***Closure***).

```javascript
function externa() {
	let valor = "visível para interna";

	function interna() {
		console.log(valor); // Acessa variável da função externa
	}

	interna();
}

externa();
```

---
# *Hoisting* no Escopo de Função

Com `var` ,o JavaScript **move a declaração** para o topo da função, mas **não o valor**.

Com `let` e `const`, ocorre ***temporal dead zone*** (acesso antes da declaração gera erro).

```javascript
function exemploHoisting() {
	console.log(a); // undefined (var é içado)
	var a = 5;

	// console.log(b); // Erro: Cannot acess 'b' before initialization
	let b = 10;
}

exemploHoisting(); // undefined
```

---
# Boas Práticas

✅ Prefira `let` e `const` dentro de funções para evitar problemas de hoisting.  
✅ Use variáveis locais sempre que possível (evita poluir o escopo global).  
✅ Declare variáveis **no início da função** para facilitar a leitura.  
✅ Evite `var` a menos que precise de compatibilidade com código muito antigo.

---
# Resumo

- Escopo de função **só existe** dentro de funções.
- Criado sempre que a função é chamada.
- Variáveis e parâmetros declarados dentro da função **não** são acessíveis fora dela.
- Funções internas podem acessar variáveis da função externa.