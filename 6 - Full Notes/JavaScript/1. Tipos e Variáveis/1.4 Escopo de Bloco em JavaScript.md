2025-08-09 20:33

Status: #developed #javascript 

Tags: [[JavaScript]]

----
# O que é Escopo em JavaScript

Em JavaScript, **escopo** é o "ambiente" onde as varáveis e funções estão disponíveis. Ele define **de onde** uma variável pode ser acessada ou modificada no código.

Existem três tipos principais de escopo no JavaScript moderno:

1. **Escopo Global** → visível em todo o programa.
2. **Escopo de Função** → visível apenas dentro da função.
3. **Escopo de Bloco** → visível apenas dentro de chaves `{ ... }`.

---
# O que é Escopo de Bloco

O **escopo de bloco** limita a **visibilidade e acesso** de variáveis e constantes ao **bloco de código** onde foram declaradas.

Um "bloco" é qualquer código entre `{ }` - por exemplo:

- Dentro de `if`
- Dentro de `for`
- Dentro de funções
- Dentro de `while`
- Dentro de `{ }` isolados

## Palavras-chave e Escopo de Bloco

- `let` e `const` → possuem escopo de bloco.
- `var` → não respeita o escopo de bloco, apenas escopo de função ou global.

---
# Como funciona

Quando declaramos uma variável com `let` ou `const` dentro de `{ ... }`, ela **só existe** dentro daquele bloco.

## Exemplo com `let` e `const` (escopo de bloco)

```javascript
if (true) {
	let nome = "João";
	const idade = 23;
	console.log(nome);   // João
	console.log(idade);  // 23
}

console.log(nome)  // ERRO: nome is not defined
console.log(idade) // ERRO: idade is not defined
```

### Exemplo com `var` (não respeita escopo de bloco)

```javascript
if (true) {
	var cidade = "São Paulo";
	console.log(cidade);   // São Paulo
}

console.log(cidade);       // São Paulo (var "vaza" do bloco)
```

---
# Casos comuns de Escopo de Bloco

## Dentro de um `for`

```javascript
for (let i = 0; i < 3; i++) {
	console.log("Dentro do for:", i);
}

console.log(i);    // ERRO: i is not defined
```

## Dentro de um `if`

```javascript
if (true) {
	const mensagem = "Apenas aqui dentro!";
	console.log(mensagem);
}

console.log(mensagem)   // ERRO: mensagem is not defined
```

## Bloco isolado

```javascript
{
	let segredo = "Valor secreto";
	console.log(segredo);
}

console.log(segredo);  // Erro
```

---
# Diferença para Escopo Global e de Função

| **Tipo de Escopo** | **Onde existe**               | **Acessível fora?** | Palavras-chave        |
| ------------------ | ----------------------------- | ------------------- | --------------------- |
| Global             | Fora de qualquer função/bloco | ✅                   | `var`, `let`, `const` |
| De Função          | Dentro de funções             | ❌                   | `var`, `let`, `const` |
| De Bloco           | Dentro de `{ ... }`           | ❌                   | `let`, `const`        |

---
# Boas Práticas com Escopo de Bloco

- Prefira `let` e `const` no lugar de `var` para evitar vazamento de variáveis.
- Use `const` sempre que o valor não precisar mudar.
- Declara variáveis no menor escopo possível para evitar conflitos e bugs.

---
# Resumo

- Escopo de bloco é criado sempre que usamos `{ }`.
- `let` e `const` respeitam escopo de bloco; `var` não.
- Serve para **proteger variáveis de serem acessadas ou alteradas** fora do bloco onde foram criadas.
- Ajuda na **organização e segurança** do código.

---
# Conclusão

Ainda existem muitas outras funcionalidades do que chamamos de “JavaScript moderno” (do ES6 em diante), que vão fazer mais sentido conforme estudamos mais a fundo as funcionalidades da linguagem.

Você pode conferir todas as atualizações [neste guia do ES6](http://es6-features.org/#Constants).

Apesar da atualização de 2015 ser a mais famosa, são lançadas atualizações anualmente! A lista de novidades da versão 2023 (mais recente no momento em que escrevemos) pode ser conferida no [site do ECMA](https://tc39.es/ecma262/2023/), consórcio internacional que gerencia o desenvolvimento da linguagem.