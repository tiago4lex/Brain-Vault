2025-08-11 08:53

Status: #developed #javascript 

Tags: [[JavaScript]]

----
# Introdução

## O que é um Escopo em JavaScript

O **escopo** define **onde** e **como** as variáveis, funções e constantes podem ser acessadas no código.

JavaScript possui três principais tipos de escopo:

1. **Escopo Global** → visível em todo o programa.    
2. **Escopo de Função** → visível apenas dentro de funções. 
3. **Escopo de Bloco** → visível apenas dentro de chaves `{ ... }`.

---
# O que é Escopo Global

O **escopo global** é o "nível mais alto" do código, onde variáveis e funções ficam **disponíveis para todo o programa**.

Ou seja:

- Qualquer variável ou função declarada **fora** da função e blocos `{ }` faz parte do escopo global.
- Pode ser **acessada e modificada de qualquer lugar**.

## Características

- Disponível em **todos os arquivos** (quando não há modularização).
- Pode ser criada com `var`, `let` ou `const` **fora de  funções e blocos**.
- No navegador, variáveis `var` globais são adicionadas como propriedades do objeto global `window`.
- No Node.js, o objeto global é `global`, mas varáveis globais não são automaticamente adicionadas a ele.

---
# Como funciona?

Se declararmos algo no escopo global, ele pode ser usado em qualquer parte do código, mesmo antes ou depois da sua declaração **(dependendo do tipo de declaração e do *hoisting*)**.

## Exemplo simples

```javascript
// Variáveis Globais
var nome = "João"
let idade = 23;
const pais = "Brasil";

// Função Global
function apresentar() {
	console.log(`Meu nome é ${nome}, tenho ${idade} anos e moro no ${pais}.`);
}

apresentar (); // Meu nome é João, tenho 23 anos e moro no Brasil.
```

---
# Escopo Global no Navegador vs Node.js

## No Navegador

- O Objeto global é `window`.
- Variáveis declaradas com `var` se tornam propriedades de `window`.
- `let` e `const` não ficam como propriedades de `window`.

```javascript
var x = 10;
let y = 20;

console.log(window.x);  // 10
console.log(window.y);  // undefined
```

## No Node.js

- O objeto global é `global`.
- Nenhuma variável declarada com `var`, `let`, ou `const` é automaticamente anexada a `global` (elas ficam no módulo atual).

```javascript
var a = 5;
let b = 6;

console.log(global.a);  // undefined
console.log(global.b);  // undefined
```

---
# Riscos do Escopo Global

Criar muitas variáveis globais pode gerar **conflitos e bugs difíceis de rastrear**, pois:

- Qualquer parte do código pode alterar o valor.
- Pode haver sobrescrita acidental.
- Prejudica modularidade e segurança.

## Exemplo de problama

```javascript
var contador = 0;

function aumentar() {
	contador++;
}

fucntion resetar() {
	contador = 0;       // Pode ser chamado por engano
}

aumentar();
resetar();             // Zera tudo sem querer

console.log(contador); // 0
```

---
# Boas Práticas

✅ **Evite** variáveis globais sempre que possível.  
✅ Prefira criar variáveis dentro de funções ou blocos (`let` / `const`).  
✅ Use módulos (`import` / `export` ou `module.exports`) para isolar código.  
✅ Se precisar de dados globais, centralize-os em **um único objeto**.

## Exemplo de centralização segura

```javascript
const AppConfig = {
	versao: "1.0.0",
	nomeApp: "MeuSistema"
};

console.log(AppConfig.versao);
```

---
# Resumo

| **Característica** | **Escopo Global**                 |
| ------------------ | --------------------------------- |
| Onde exite         | Fora de qualquer função/bloco     |
| Visível em         | Todo o programa                   |
| Palavra-chave      | `var`, `let`, `const`             |
| Riscos             | Conflitos, sobrescrita acidental  |
| Boas práticas      | Minimizar uso, modularizar código |

