2025-09-10 16:21

Status: #developed #javascript 

Tags: [[JavaScript]]

----
# Introdução

## O que são Callbacks?

Uma ***callback*** é simplesmente uma **função passada como argumento para outra função**, que será executada **mais tarde**, dentro dessa função.

**Em outras palavras:**

- Você passa uma função para outra.
- Essa função será "chamada de volta" (daí o nome *callback*) quando um determinado evento ou operação ocorrer.

---
# Sintaxe Básica

```js
function executaCallback(callback) {
	console.log("Antes da callback");
	callback();  // executa a função recebida
	console.log("Depois da callback");
}

function minhaFuncao() {
	console.log("Sou a função callback!")
}

executaCallback(minhaFuncao);
```

**Saída:**

```text
Antes da callback
Sou a função callback!
Depois da callback
```

>[!note] Nota:
>Aqui, `minhaFuncao` foi passada como argumento para `executaCallback`, e só foi executada quando o código chegou em `callback()`.


---
# Exemplo prático: `setTimout`

O `setTimeout` é um exemplo clássico de callback no JavaScript.

```js
setTimout(() => {
	console.log("Executa após 2 segundos!");
}, 2000);
```

>[!note] Nota:
>- Aqui a função `() => { console.log("...") }` é a callback.
>- Ela só executada **depois de 2 segundos**.

---
# Exemplo com `forEach()` (callback em métodos de array)

Vários métodos de array usam callbacks:

```js
const numeros = [1, 2, 3];

numeros.forEach((numero, indice) => {
	console.log(`Índice: ${indice}, Valor: ${numero}`);
});
```

**Saída:**

```text
Índice: 0, Valor: 1
Índice: 1, Valor: 2
Índice: 2, Valor: 3
```

>[!note] Nota:
>O `forEach()` recebe uma função callback e é executada **para cada elemento do array**.

---
# Exemplo com eventos no navegador

Callbacks são muito comuns em eventos:

```js
document.querySelector("button").addEventListener("click", () => {
	console.log("O botão foi clicado!");
});
```

>[!note] Nota:
>Aqui:
>- O `addEventListener` recebe uma função callback.
>- Essa função só é executada **quando o evento "click" acontecer**.

---
# Callbacks Síncronas vs Assíncronas

## Síncronas

Executadas imediatamente, no fluxo normal do código.

**Exemplo:**

```js
function cumprimenta(nome, callback) {
	console.log("Ola, " + nome);
	callback();
}

cumprimenta("Maria", () => {
	console.log("Callback síncrona executada!");
});
```

**Saída:**

```
Olá, Maria
Callback síncrona executada!
```

## Assíncronas

Executadas depois, de um certo tempo ou evento (ex.: timers, leitura e arquivos, requisições).

**Exemplo:**

```js
console.log("Início");

setTimout(() => {
	console.log("Callback assíncrona executada")
}, 3000);

console.log("Fim")
```

**Saída:**

```bash
Início
Fim
# 3 segundos depois
Callback assíncrona executada!
```

---
# Problemas dos Callbacks: *Callback Hell*

Quando é muitas callbacks aninhadas, o código pode ficar confuso e difícil de manter:

```js
setTimeout(() => {
  console.log("Passo 1");
  setTimeout(() => {
    console.log("Passo 2");
    setTimeout(() => {
      console.log("Passo 3");
    }, 1000);
  }, 1000);
}, 1000);
```

Isso é chamado de ***Callback Hell***.

Para resolver, é usado *promises* e *async/await* (mais modernos e organizados).

---
# Resumo

- **Callback** é uma função passada como argumento para outra função.
- Muito usada em:
    - **Timers** (`setTimeout`, `setInterval`)
    - **Eventos** (`addEventListener`)        
    - **Métodos de array** (`forEach`, `map`, `filter`)    
    - **Operações assíncronas** (requisições, leitura de arquivos, etc.)

- Podem ser síncronas ou assíncronas.    
- Problema: muitos callbacks aninhados → _Callback Hell_.
- Solução moderna: **Promises** e **async/await**.

