2025-10-24 15:35

Status: #developed #javascript 

Tags: [[JavaScript]] | [[Objetos]]

----
# Introdu√ß√£o

Em JavaScript, um **objeto aninhado** (ou *nested object*) √© **um objeto dentro de outro objeto**.

Esse conceito permite representar estruturas de dados mais complexas e **hier√°rquicas**, como perfis de usu√°rios, endere√ßos, configura√ß√µes de sistemas ou dados de APIs.

---
# Conceito

Um **objeto aninhado** √© simplesmente uma propriedade cujo **valor tamb√©m √© um objeto**. Isso cria uma **rela√ß√£o hier√°rquica** entre os dados, semelhantes a uma estrutura em √°rvore.

**Exemplo simples:**

```js
const usuario = {
  nome: "Maria",
  idade: 23,
  endereco: {
    rua: "Rua das Flores",
    numero: 123,
    cidade: "Curitiba"
  }
};
```

Aqui, o objeto `endereco` est√° **aninhado** dentro do objeto `usuario`.

---
# Acessando Propriedades em Objetos Aninhados

Para acessar propriedades dentro de objetos aninhados, usamos **nota√ß√£o de ponto (`.`)** ou colchetes (`[]`) em sequ√™ncia.

## Exemplo 1 - Acessando propriedades aninhadas

```js
console.log(usuario.endereco.rua);
console.log(usuario.endereco.cidade);
```

**Sa√≠da:**

```
Rua das Flores
Curitiba
```

**Explica√ß√£o:**

- `usuario.endereco` retorna o objeto `{ rua, numero, cidade }`.
- `usuario.endereco.rua` acessa a propriedade `rua` dentro de `endereco`.

## Exemplo 2 - Usando nota√ß√£o de colchetes

```js
console.log(usuario["endereco"]["numero"]);
```

**Sa√≠da:**

```text
123
```

**Quando usar:**

A nota√ß√£o de colchetes √© √∫til quando o nome da propriedade vem de uma **vari√°vel** ou cont√©m **caracteres especiais** (como espa√ßos).

---
# Alterando Propriedades em Objetos Aninhados

√â poss√≠vel alterar os valores dentro de um objeto aninhado da mesma forma que em um objeto comum.

## Exemplo 3 - Alterando valores

```js
usuario.endereco.cidade = "S√£o Paulo";
usuario.endereco.numero = 321;

console.log(usuario.endereco);
```

**Sa√≠da:**

```text
{ rua: 'Rua das Flores', numero: 321, cidade: 'S√£o Paulo' };
```

**Explica√ß√£o:**

As propriedades do objeto interno podem ser modificadas diretamente atrav√©s da hierarquia (`usuario.endereco.cidade`);

---
# Adicionando Novas Propriedades em Objetos Aninhandos

Tamb√©m √© poss√≠vel **adicionar novas propriedades** dentro de um objeto aninhando.

## Exemplo 4 - Adicionando propriedade interna

```js
usuario.endereo.cep = "80000-000";
console.log(usuaria.endereco);
```

**Sa√≠da:**

```text
{ rua: 'Rua das Flores', numero: 321, cidade: 'S√£o Paulo', cep: '80000-000' }
```

**Explica√ß√£o:**

- `usuario.endereco.cep = ...` adiciona uma nova chave dentro do objeto `endereco`.

---
# Removendo Propriedades de Objetos Aninhados

O operador `delete` tamb√©m pode ser usado em propriedades internas.

## Exemplo 5 - Removendo propriedade interna

```js
delete usuario.endereco.numero;
console.log(usuario.endereco);
```

**Sa√≠da:**

```text
{ rua: 'Rua das Flores', cidade: 'S√£o Paulo', cep: '80000-000' }
```

---
# Objetos Aninhados M√∫ltiplos (camadas mais profundas)

√â poss√≠vel ter **v√°rios n√≠veis de aninhamento**, como em estrutura de dados de APIs ou JSONs.

## Exemplo 6 - Objeto com m√∫ltiplos n√≠ves

```js
const empresa = {
	nome: "Tech Solutions",
	endereco: {
		cidade: "Curitiba",
		departamento: {
			nome: "Desenvolvimento",
			lider: {
				nome: "Maria",
				cargo: "Engenheiro de Software"
			}
		}
	}
};

console.log(empresa.endereco.departamento.lider.nome);
```

**Sa√≠da:**

```text
Maria
```

**Explica√ß√£o:**

- Cada n√≠vel √© acessado por ponto - `empresa ‚Üí endereco ‚Üí departamento ‚Üí lider ‚Üí nome`.

---
# Evitando Erro de Propriedade Inexistente

Caso seja acessado uma propriedade que n√£o existe, o JavaScript retorna `undefined`. Mas se for tentando acessar algo dentro de um `undefined`, ocorre um erro.

## Exemplo 7 - Erro comum

```js
console.log(usuario.trabalho.empresa); // ‚ùå Erro!
```

**Sa√≠da:**

```text
Cannot read properties of undefined
```

Para evitar esse tipo de erro, √© usado o **operador de encadeamento opcional (`?.`)** introduzido no ES2020.

## Exemplo 8 - Usando `?.` para evitar erro

```js
console.log(usuario.trabalho?.empresa); // undefined, sem erro
```

**Explica√ß√£o:**

- O operador `?.` interrompe o acesso caso a propriedade anterior seja `undefined` ou `null`.

---
# Percorrendo Objetos Aninhados

√â poss√≠vel percorrer as propriedades internas com `for...in`, mas para objetos muito aninhados √© comum usar **recurs√£o**.

## Exemplo 9 - Percorrendo Recursivamente um Objeto

```js
function exibirPropriedades(obj) {
	for(let chave in obj) {
		if(typeof obj[chave] === "object" && obj[chave] !== null) {
			console.log(`Objeto interno encontrado: ${chave}`);
			exibirPropriedades(obj[chave]); // chama recursivamente
		} else {
			console.log(`${chave}: ${obj[chave]}`);
		}
	}
}

exibirPropriedades(empresa);
```

**Sa√≠da resumida:**

```text
nome: Tech Solutions
Objeto interno encontrado: endereco
cidade: Curitiba
Objeto interno encontrado: departamento
nome: Desenvolvimento
Objeto interno encontrado: lider
nome: Maria
cargo: Engenheiro de Software
```

**Explica√ß√£o:**

- A fun√ß√£o percorre todas as chaves e entra nos objetos internos recursivamente.

---
# Trabalhando com JSON (Objetos Aninhados em Texto)

Muitos dados externos (como APIs) chegam em formato JSON, que √© basicamente texto com objetos aninhados.

## Exemplo 10 - Convertendo JSON para objeto

```js
const dadosJSON = '{"nome":"Maria","endereco":{"cidade":"Curitiba","cep":"80000-000"}}';

// Converte JSON ‚Üí Objeto
const dados = JSON.parse(dadosJSON);

console.log(dados.endereco.cidade);
```

**Sa√≠da:**

```text
Curitiba
```

**Explica√ß√£o:**

- `JSON.parse()` transforma uma string JSON em um objeto JavaScript real.
- Da mesma forma, `JSON.stringify(obj)` converte um objeto em string JSON.

---
# Resumo Geral

|A√ß√£o|Sintaxe|Exemplo|
|---|---|---|
|Acessar valor aninhado|`obj.nivel1.nivel2`|`usuario.endereco.cidade`|
|Adicionar propriedade interna|`obj.interno.novaProp = valor`|`usuario.endereco.cep = "80000-000"`|
|Remover propriedade interna|`delete obj.interno.prop`|`delete usuario.endereco.rua`|
|Evitar erro de acesso|`obj?.interno?.prop`|`usuario.trabalho?.empresa`|
|Converter JSON ‚Üí Objeto|`JSON.parse(texto)`|`JSON.parse(dadosJSON)`|

---
# Boas Pr√°ticas

- ‚úÖ **Use `?.` (encadeamento opcional)** para evitar erros em acessos profundos.
- üß± **Evite estruturas muito profundas**, pois dificultam a manuten√ß√£o.
- üîÅ **Prefira objetos bem definidos** para representar dados complexos (em vez de arrays soltos).
- üß© **Combine com desestrutura√ß√£o** para acessar dados internos de forma mais limpa (veremos no pr√≥ximo t√≥pico).