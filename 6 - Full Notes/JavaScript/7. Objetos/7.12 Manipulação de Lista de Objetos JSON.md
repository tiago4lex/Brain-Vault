2025-11-10 14:45

Status: #developed #javascript 

Tags: [[JavaScript]] | [[JSON]] | [[Objetos]]

----
# O que é uma lista de objetos JSON

Uma **lista de objetos JSON** é um **array JavaScript** contendo múltiplos objetos estruturados em formato JSON.

Cada objeto pode ter **chaves (propriedades)** e **valores**, que representam informações de entidades (como pessoas, produtos, alunos, etc.).

**Exemplo:**

```json
[
  {
    "nome": "Juliet",
    "email": "juliet@exemplo.com",
    "telefone": ["1198123183", "11998123183"],
    "endereco": { "logradouro": "Rua Crownhardt", "numero": "07", "cep": "184366" }
  },
  {
    "nome": "Oralle",
    "email": "orajchert@clickbank.net",
    "telefone": ["5896279799", "58996279799"],
    "endereco": { "logradouro": "Rua Kedzie", "numero": "89", "cep": "613840" }
  }
]
```

---
# Lendo uma lista JSON

Para manipular dados JSON, é comum armazená-los em um arquivo, por exemplo: `estudantes.json`.

```js
const estudantes = require('./estudantes.json');
```

> O `require()` importa o conteúdo do arquivo JSON como um **array de objetos JavaScript**, permitindo o uso direto das funções nativas de manipulação de listas (`map`, `filter`, `find`, `etc.`).

---
# Buscando informações com `.find()` e `.includes()`

O método `.find()` retorna o **primeiro elemento** que satisfaz a condição passada como função.

**Exemplo base:**

```js
function buscaInformacao(lista, chave, valor) {
    return lista.find((estudante) => estudante[chave].includes(valor));
}

const estudanteEncontrado = buscaInformacao(estudantes, 'nome', 'Juliet');
console.log(estudanteEncontrado);
```

**Explicação:**

- `lista.find(...)` percorre a lista e verifica cada objeto.
- `estudante[chave]` acessa dinamicamente a propriedade (como `nome`, `email`, `telefone`...).
- `.includes(valor)` verifica se o valor procurado está contido naquela chave.

**Saída:**

```js
{
  nome: 'Juliet',
  email: 'jelphey4@wikipedia.org',
  telefone: [ '1198123183', '11998123183' ],
  endereco: { logradouro: 'Rua Crownhardt', numero: '07', cep: '184366' }
}
```

---
# Buscando por telefone (valor dentro de uma array)

O mesmo código funciona mesmo se o valor buscado estiver dentro de um array (como no campo `telefone`).

```js
const telefoneEstudante = buscaInformacao(estudantes, 'telefone', '58996279799');
console.log(telefoneEstudante);
```

**Saída:**

```js
{
  nome: 'Oralle',
  email: 'orajchert1@clickbank.net',
  telefone: [ '5896279799', '58996279799' ],
  endereco: { logradouro: 'Rua Kedzie', numero: '89', cep: '613840' }
}
```

---
# Filtrando múltiplos resultados (`.filter()`)

Enquanto `.find()` retorna um único elemento, `.filter()` retorna **todos os elementos que atende à condição**.

**Exemplo:**

```js
function filtraPorCidade(lista, cidade) {
	return lista.filter((estudante) => estudante.endereco.logradouro.includes(cidade));
}

const resultado = filtraPorCidade(estudantes, 'Rua');
console.log(resultado);
```

**Saída:**

- Uma lista com todos os estudantes cujo logradouro contém **"Rua"**.

---
# Buscas complexas (com mais de uma condição)

É possível combinar condições lógicas (`&&`, `||`) dentro de uma função de filtragem.

**Exemplo:**

```js
function buscarAvancado(lista, nome, cep) {
	return lista.filter(
		(estudante) =>
			estudante.nome.includes(nome) &&
			estudante.endereco.cep === cep
	);
}

const encontrados = buscarAvancado(estudantes, 'Oralle', '613840');
console.log(encontrados);
```

---
# Adicionando, alterando e removendo objetos

## 1. Adicionar um novo objeto

```js
estudantes.push({
  nome: 'Lucas',
  email: 'lucas@exemplo.com',
  telefone: ['11955554444'],
  endereco: { logradouro: 'Rua Nova', numero: '10', cep: '123456' }
});
```

## 2. Atualizar um campo

```js
const juliet = estudantes.find((e) e.nome === 'Juliet');
juliet.email = 'novoemail@exemplo.com';
```

## 3. Remover um objeto

```js
const indice = estudantes.findIndex((e) => e.nome === 'Oralle');
if (indice !== -1) estudantes.splice(indice, 1);
```

---
# Salvando as alterações no arquivo JSON

Após manipular a lista em memória, é possível **escrever novamente o conteúdo no arquivo JSON** usando o módulo `fs` (*File System*):

```js
const fs = require('fs');

fs.writeFileSync('./estudantes.json', JSON.stringify(estudantes, null, 2));
```

> O `JSON.stringify(obj, null, 2)` converte o objeto para texto JSON formatado com indentação de 2 espaços.

---
# Operações úteis em listas JSON

|Operação|Método|Exemplo|
|---|---|---|
|Buscar o primeiro elemento|`find()`|`estudantes.find(e => e.nome === 'Juliet')`|
|Buscar todos os que atendem à condição|`filter()`|`estudantes.filter(e => e.telefone.length > 1)`|
|Criar nova lista transformada|`map()`|`estudantes.map(e => e.email)`|
|Verificar se existe elemento|`some()`|`estudantes.some(e => e.nome === 'Lucas')`|
|Contar quantos atendem à condição|`filter().length`|`estudantes.filter(e => e.nome.startsWith('J')).length`|

---
# Quando usar manipulação JSON


A manipulação de listas JSON é muito usada em:

- APIs (envio e recebimento de dados entre servidor e cliente);
- Configurações de sistemas;
- Armazenamento local de informações;
- Simulação de banco de dados durante o desenvolvimento;
- Processamento de dados estruturados em scripts Node.js.

---
# Boas práticas

✔️ Sempre **validar o conteúdo** antes de acessar chaves aninhadas (`endereco?.cep`).  
✔️ Evite sobrescrever o arquivo JSON sem backup.  
✔️ Use `try...catch` para tratar erros de leitura e escrita.  
✔️ Prefira métodos funcionais (`map`, `filter`, `reduce`) para clareza e segurança.  
✔️ Nomeie chaves de forma padronizada (ex: `email`, `telefone`, `endereco`).

---
# Exemplo Completo

```js
const fs = require('fs');
const estudantes = require('./estudantes.json');

// Função genérica de busca
function buscaInformacao(lista, chave, valor) {
  return lista.find((estudante) => estudante[chave].includes(valor));
}

// Exemplo de busca por nome
console.log(buscaInformacao(estudantes, 'nome', 'Juliet'));

// Exemplo de busca por telefone
console.log(buscaInformacao(estudantes, 'telefone', '58996279799'));

// Adicionando novo estudante
estudantes.push({
  nome: 'Tiago',
  email: 'tiago@exemplo.com',
  telefone: ['11900001111'],
  endereco: { logradouro: 'Rua Central', numero: '15', cep: '999999' }
});

// Salvando no arquivo
fs.writeFileSync('./estudantes.json', JSON.stringify(estudantes, null, 2));

console.log('Arquivo atualizado com sucesso!');
```

---
# Conclusão

Manipular listas de objetos JSON é uma **habilidade essencial em JavaScript**, especialmente para quem trabalha com **Node.js, APIs, bancos de dados ou front-end dinâmico**.  
Com os métodos `.find()`, `.filter()`, `.map()`, `.some()` e o módulo `fs`, é possível criar soluções completas de **busca, atualização e persistência de dados** com simplicidade e clareza.