2025-12-27 11:10

Status: #developed #python 

Tags: [[Python]] | [[Estrutura de Dados]]

----
# Introdução

Conjuntos (`set`) são estruturas de dados usadas para armazenar **coleções de valores únicos**, sem ordem definida.

Eles são inspirados na **teoria dos conjuntos da matemática**, o que torna suas operações muito poderosas.

Principais características:

- Não ordenados
- Não permitem valores duplicados
- Mutáveis (podem ser alterados)
- Muito eficientes para testes de pertencimento

---
# Criação de Conjuntos

## 1. Criando um conjunto

```python
numeros = {1, 2, 3, 4}
```

## 2. Conjunto com valores duplicados

```python
numeros = {1, 2, 2, 3}
print(numeros) # {1, 2, 3}
```

Duplicatas são automaticamente removidas.

## 3. Criando um conjunto vazio

```python
conjunto_vazio = set()
```

❌ Errado:

```python
conjunto_vazio = {} # cria um dicionário
```

---
# Acesso e Iteração

Conjuntos **não suportam indexação**, pois são ordenados.

```python
for item in numeros:
	print(item)
```

Para verificar a existência de um item, é utilizado os operadores `in` e `not in`

Considerando o exemplo:

```python
conjunto = {1, 2, 3, 4, 5}
```

- Método `in`: Verifica se um elemento **está presente** em um conjunto. Ele retorna <font color="#02e606"><strong>True</strong></font> se o elemento estiver no conjunto e <font color="#ff0000"><strong>False</strong></font> caso contrário

**Exemplo:**

```python
print(3 in conjunto) # True
print(6 in conjunto) # False
```

- **Método `not in`:** Verifica se um elemento **não está presente** em um conjunto. Ele retorna <font color="#02e606"><strong>True</strong></font> se o elemento não estiver no conjunto e <font color="#ff0000"><strong>False</strong></font> caso contrário

```python
print(3 not in conjunto) # False
print(6 not in conjunto) # True
```

---
# Operações Matemáticas com Conjuntos

Essas são as operações mais importantes e utilizadas.

## 1. União (`|` ou `union()`)

```python
a = {1, 2, 3}
b = {3, 4, 5}

print(a | b)
print(a.union(b))
```

**Resultado:**

```python
{1, 2, 3, 4, 5}
```

## 2. Interseção (`&` ou `intersection()`)

```python
print(a & b)
print(a.intersection(b))
```

**Resultado:**

```python
{3}
```

## 3. Diferença (`-` a `difference()`)

```python
print(a - b)
```

**Resultado:**

```python
{1, 2}
```

## 4. Diferença Simétrica (`^` ou `symmetric_difference()`)

```python
print(a ^ b)
```

**Resultado:**

```python
{1, 2, 4, 5}
```

---
# Métodos Principais de Conjuntos

| **Método**  | **Descrição**                         |
| ----------- | ------------------------------------- |
| `add()`     | Adiciona elemento                     |
| `remove()`  | Remove elemento (erro se não existir) |
| `discard()` | Remove elemento sem erro              |
| `pop()`     | Remove elemento aleatório             |
| `clear()`   | Remove todos os elementos             |

**Considerando:**

```python
conjunto = {1, 2, 3}
```

## `add()`

```python
conjunto.add(4)
```

**Resultado:**

```python
{1, 2, 3, 4}
```

## `update()`

```python
conjunto.update([5, 6, 7])
```

**Resultado:**

```python
{1, 2, 3, 4, 5, 6, 7}
```

## `remove()`

```python
conjunto.remove(2)
```

**Resultado:**

```python
{1, 3, 4, 5, 6, 7}
```

## `discard()`

```python
conjunto.discard(2)
```

**Resultado:**

```python
{1, 3, 4, 5, 6, 7}
```

## `pop()`

```python
conjunto.pop()
```

**Resultado:**

```python
{3, 4, 5, 6, 7}
```

## `clear()`

```python
conjunto.clear()
```

**Resultado:**

```python
set()
```

---
# Diferenças entre `set` e `list`

| **Características** | `List`  | `Set`        |
| ------------------- | ------- | ------------ |
| Ordenação           | Sim     | Não          |
| Duplicatas          | Permite | Não permite  |
| Indexação           | Sim     | Não          |
| Peformance (in)     | Média   | Muito rápida |
| Uso matemático      | Não     | Sim          |

---
# Outros Métodos de Manipulação

É possível analisar a relação entre conjuntos e suas características utilizando alguns métodos e criar cópias de conjuntos.

**Considerando:**

```python
a = {1, 2}
b = {1, 2, 3, 4}
```

## `issubet(set2)` ou `(<=)`

Verifica se um conjunto é **subconjunto** de outro.

```python
a.issubseet(b) # True
a <= b         # True
```

## `issuperset(set2)` ou `(>=)`

Verifica se é um conjunto **superconjunto** de outro.

```python
b.issuperset(a) # True
a >= b          # True
```

## `isdisjoint(set2)`

Verifica se os conjunto **não têm elementos em comum**.

```python
c = {5, 6, 7}
a.isdisjoint(c) # True
```

## `len(conjuntos)`

Verifica o número de elementos de um conjunto.

```python
len(a) # 2
```

## `copy()`

Retorna uma **cópia do conjunto**.

```python
copia = a.copy()
print(copia) # {1, 2}
```


---
# Casos de Usos de Conjuntos

## 1. Remover duplicatas de uma lista

```python
nomes = ["ana", "joão", "ana"]
nomes_unicos = set(nomes)
```

## 2. Teste rápido de pertencimento

```python
ips_bloqueados = {"192.168.1.1", "10.0.0.1"}

if "10.0.0.1" in ips_bloqueados:
	print("IP bloqueado")
```

## 3. Comparação de permissões

```python
permissoes_usuarios = {"read", "write"}
permissoes_admin = {"read", "write", "delete"}

if permissoes_usuarios <= permissoes_admin:
	print("Permissões válidas")
```

## 4. Segurança e Cibersegurança

Conjuntos são muito usados para:

- Listas de IPs únicos
- Hashes conhecidos
- Portas abertas
- Permissões e roles

---
# Exemplos Práticos

## Exemplo 1

Ana está organizando uma festa de aniversário e precisa de uma lista de convidados que **não tenha repetições** , pois algumas pessoas foram convidadas mais de uma vez por engano. Ela gostaria que o programa solicitasse o nome dos convidados e, ao final, exibisse a lista organizada sem repetições.

**Solução:**

```python
convidados = set()

while True:
	nome = input("Digite o nome do convidado ou 'sair' para encerrar: ")
	
	if nome.lower() == "sair":
		break
	
	convidados.add(nome)
	
print(f"Convidados confirmados: {', '.join(convidados)}")
```

**Saída:**

```text
Convidados confirmados: Ana, João, Carla
```

## Exemplo 2

Clara é editora de uma revista e deseja comparar dois artigos para identificar **quais palavras aparecem em ambos**. Sua tarefa é criar um programa que receba dois textos e exiba o conjunto de palavras comuns entre eles.

**Solução:**

```python
texto1 = set(input("Texto 1: ").lower().split())
texto2 = set(input("Texto 2: ").lower().split())

comuns = texto1.intersection(texto2)

print(f"Palavras em comum: {comuns}")
```


**Saída:**

```text
Palavras em comum: {'o', 'azul', 'sol', 'céu'}
```

## Exemplo 3

Laura e Ana resolveram fazer compras juntas, mas criaram duas listas diferentes. Elas querem um programa que mostre:

- Quais itens apareceram nas duas listas
- Quais foram exclusivos de Laura
- Quais foram exclusivos da Ana

**Solução:**

Neste desafio, transformamos as listas fornecidas em conjuntos, utilizamos os métodos `intersection()` para os itens em comum, `difference()` para os exclusivos.

![[Pasted image 20251228205401.png]]

```python
laura = set(input("Lista da Laura: ").split(", "))
ana = set(input("Lista da Ana: ").split(", "))

comuns = laura.intersection(ana)

exclusivos_laura = laura.difference(ana)
exlusivos_ana = ana.difference(laura)

print(f"Itens em ambas as listas: {', '.join(comuns)}")
print(f"Itens exclusivos de Laura: {', '.join(exclusivos_laura)}")
print(f"Itens exclusivos de Ana: {', '.join(exlusivos_ana)}")
```

**Saída:**

```text
Itens em ambas as listas: pão, café 
Itens exclusivos de Laura: leite, açúcar 
Itens exclusivos de Ana: biscoito, chocolate 
```

## Exemplo 4

Marina trabalha no setor de segurança de uma empresa e precisa verificar se um **determinado conjunto de permissões faz parte das permissões principais** de um sistema. Sua tarefa é desenvolver um programa que receba duas listas de permissões e verifique se a segunda lista está contida na primeira.

**Solução:**

Neste exercício, para verificar se um conjunto é parte de outro, utilizamos a lógica de conjuntos através do método `issubset`. A solução consiste em transformar as permissões fornecidas em conjuntos e, em seguida, comparar os dois. Caso o conjunto das permissões solicitadas esteja inteiramente contido nas permissões principais, o resultado será verdadeiro.

![[Pasted image 20251228205550.png]]

```python
permissoes_principais = set(input("Permissões principais: ").strip().lower().split(','))

permissoes_solicitadas = set(input("Permissões solicitadas: ").strip().lower().split(','))

for i in range(len(permissoes_principais)):
    permissoes_principais[i] = permissoes_principais[i].strip()

for i in range(len(permissoes_solicitadas)):
    permissoes_solicitadas[i] = permissoes_solicitadas[i].strip()

eh_subconjunto = permissoes_solicitadas.issubset(permissoes_principais)

if eh_subconjunto:
    print("As permissões solicitadas fazem parte das permissões principais.")

else:
    print("As permissões solicitadas não fazem parte das permissões principais.")
```

**Saída:**

```bash
> CASO 01:
As permissões solicitadas fazem parte das permissões principais.

> CASO 02:
As permissões solicitadas não fazem parte das permissões principais.
```

Quando pedimos para o usuário digitar as permissões, ele pode inserir os valores de forma inconsistente, com espaços extras, letras maiúsculas e minúsculas misturadas, ou até mesmo separadores errados. Se não tratarmos a entrada corretamente, comparações podem falhar.

Para garantir que os dados estejam sempre no mesmo formato, utilizamos três funções principais:

- `strip()`: Remove espaços extras e cada permissão pode ter espaços antes ou depois da vírgula.
- `lower()`: Converte para letras minúsculas, assim, se o usuário digitar "EXECUÇÃO" e compararmos com "execução", a verificação pode falhar, pois Python diferencia maiúsculas e minúsculas.
- `split(',')`: Divide a string em uma lista de elementos e transforma a entrada do usuário em uma lista separada por vírgula, permitindo criar um conjunto posteriormente.




---
# Erros Comuns

❌ Tentar acessar elementos por índice
❌ Criar conjunto vazio com `{}`
❌ Esperar ordem fixa

---
# Boas Práticas

- Use `set` quando não quiser duplicatas    
- Prefira conjuntos para verificações rápidas
- Combine com listas quando precisar de ordem

---
# Conclusão

Conjuntos são ideais quando você precisa de **unicidade**, **performance** e **operações matemáticas**.

Eles complementam perfeitamente listas e tuplas, formando a base das estruturas de dados em Python.