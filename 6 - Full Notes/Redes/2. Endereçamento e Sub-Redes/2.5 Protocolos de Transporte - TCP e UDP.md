2025-06-12 13:12

Status: #developed #redes 

Tags: [[Redes de Computadores]] | [[Protocolos]] | [[Camada 4  - Transporte]] | [[TCP]] | [[UDP]]

----
# O que são TCP e UDP?

**TCP *(Transmission Control Protocol)*** e **UDP *(User Datagram Protocol)*** são dois dos principais <font color="#ffc000"><strong>protocolos da camada de transporte</strong></font> do modelo TCP/IP. Eles são responsáveis por <font color="#ffc000"><strong>gerencial a entrega dos dados</strong></font> entre dispositivos em uma rede.

---
# TCP - *Transmission Control Protocol*

## Características:

- **Orientado à conexão:** Antes da troca de dados, estabelece uma conexão entre o emissor e o receptor.
- **Confiável:** Garante que todas os pacotes cheguem corretamente e na ordem certa.
- **Controle de fluxo** e **detecção de erros**.
- **Mais lento** que o UDP, devido ao processo de verificação e confirmação.

## Funcionamento:

1. **Estabelecimento de conexão (3-way handshake):**
	- SYN → SYN-ACK → ACK

2. Envio de dados de verificação e confirmação
3. Finalização da conexão com  outro handshake

## Exemplos de uso:

- Navegação web(HTTP, HTTPS)
- E-mail (SMTP, IMAP, POP3)
- Transferência de arquivos FTP

## Como configurar (Exemplo no Linux com `iptables`):

```bash
# Liberar tráfego TCP na porta 80 (HTTP)
sudo iptables -A INPUT -p tcp --dport 80 -j ACCEPT
```


---
# UDP - *User Datagram Protocol*

## Características:

- **Sem conexão** (connectionless): Não há verificação de entrega.
- **Menos confiável**, mas **mais rápido**.
- **Ideal para aplicações em tempo real**.

## Funcionamento

- Envia os pacotes (datagramas) diretamente, sem confirmação do receptor.
- Caso um pacote se perca, ele **não é retransmitido** automaticamente.

## Exemplos de uso:

- Streaming de vídeo e áudio (Youtube, Spotify)
- Chamadas VoIP (WhatsApp, Zoom)
- Jogos online

## Como configurar (Exemplo Linux com `iptables`):

```bash
# Liberar tráfego UDP na porta 53 (DNS)
sudo iptables -A INPUT -p udp --dport 53 -j ACCEPT
```

---
# Comparativo Rápido

| **Característica** | **TCP**                | **UDP**                 |
| ------------------ | ---------------------- | ----------------------- |
| Tipo de conexão    | Orientado à conexão    | Sem conexão             |
| Confiabilidade     | Alta (com verificação) | Baixa (sem verificação) |
| Velocidade         | Mais lento             | Mais rápido             |
| Uso típico         | Web, e-mail, FTP       | Streaming, VoIP, jogos  |
| Ordem dos dados    | Garante                | Não garante             |
| Exemplo de porta   | 80 (HTTP), 443 (HTTPS) | 53 (DNS), 69 (TFTP)     |

---
# Configuração no Packet Tracer (via CLI)

## Topologia

![[Pasted image 20250612133314.png]]

## Passo a Passo

### 1. Configuração do Roteador (IP e interface)

```Router> enable
Router# configure terminal
Router(config)# interface FastEthernet0/0
Router(config-if)# ip address 192.168.1.1 255.255.255.0
Router(config-if)# no shutdown
Router(config-if)# exit

Router(config)# interface FastEthernet0/1
Router(config-if)# ip address 192.168.2.1 255.255.255.0
Router(config-if)# no shutdown
Router(config-if)# exit

Router(config)# exit
```

### 2. Configuração dos PCs (via Desktop > IP Configuration)

**PC0:**

- IP: `192.168.1.2`
- Máscara: `255.255.255.0`
- Gateway: `192.168.1.1`
- DNS: `192.168.2.3` (servidor DNS)

**PC1:**

- IP: `192.168.1.3`
- Máscara: `255.255.255.0`
- Gateway: `192.168.1.1`
- DNS: `192.168.2.3` (servidor DNS)

### 3. Configuração do Servidor Web (TCP)

- IP: `192.168.2.2`
- Máscara: `255.255.255.0`
- Gateway: `192.168.2.1`
- Vá em **Config > Services > HTTP** e ative o serviço Web.

### 4. Configuração do Servidor DNS (UDP)

- IP: `192.168.2.3`
- Máscara: `255.255.255.0`
- Gateway: `192.168.2.1`
- Vá em **Config > Services > DNS**
	- Habilite o serviço DNS
	- Adicione um registro, por exemplo:
		- Name: `meusite.com`
		- Address: `192.168.2.2`

### 5. Teste de conectividade (Terminal do PC)

No PC0 ou PC1, vá até **Desktop > Terminal** e teste:

```bash
ping 192.168.2.2         ← Verifica conexão com o servidor Web (TCP)
nslookup meusite.com     ← Verifica consulta DNS via UDP
```

Depois, abra o navegador do PC e acesse:

```arduino
http://meusite.com
```

Se tudo estiver cert, o site vai abrir - demonstrando o **uso real do protocolo TCP na porta 80 e UDP na porta 53**.

---
# Conclusão

TCP e UDP são essenciais para a comunicação na Internet. O TCP prioriza a <font color="#00b0f0"><strong>confiabilidade</strong></font>, enquanto o UDP prioriza a <font color="#00b0f0"><strong>velocidade</strong></font>. O uso correto depende do <font color="#00b0f0"><strong>tipo de aplicação</strong></font> que está sendo executada.