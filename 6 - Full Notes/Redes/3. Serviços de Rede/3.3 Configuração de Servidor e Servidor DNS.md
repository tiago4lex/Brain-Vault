2025-05-30 23:02

Status: #developed #redes 

Tags: [[Redes de Computadores]] | [[DNS]] | [[Servidor]] | [[Configuração]] | [[Cisco]]

----
# O que é um Servidor?

Um **servidor** é um computador configurado para fornecer recursos, serviços ou dados a outros computadores, chamados de clientes, em uma rede.

## Tipos comuns de servidores:

- **Servidor de Arquivos:** armazena e compartilha arquivos
- **Servidor Web:** hospeda sites e páginas
- **Servidor de E-mail:** envia e recebe e-mails
- **Servidor DHCP:** atribui IPs automaticamente
- **Servidor DNS:** traduz nomes de domínio em endereços IP

----
# O que é um Servidor DNS?

O **DNS *(Domain Name System)*** é um sistema de resolução de nomes: <font color="#92cddc"><strong>ele traduz nomes como</strong></font>`google.com` <font color="#92cddc"><strong>para I</strong>P</font> `142.250.78.36`, por exemplo.

Um servidor DNS armazena registros que associam **nomes de domínio a endereços IP**.

---
# Como configurar um servidor DNS - Ambiente Simulado (Packet Tracer)

## Cenário: Roteador + Switch + PC + Servidor

### 1. Configurar IP no Servidor

```bash
interface FastEthernet0
ip address 192.168.1.10 255.255.255.0
no shutdown
exit
```

### 2. Habilitar o DNS no Servidor

```bash
enable
configure terminal

ip dhcp excluded-address 192.168.1.1 192.168.1.10
ip dhcp pool LAN
network 192.168.1.0 255.255.255.0
default-router 192.168.1.1
dns-server 192.168.1.10

exit
```

Depois disso, configure manualmente o DNS no **servidor** (Services > DNS) associando o nome e IP.
### 3. Configurar o PC Cliente

PC > Desktop > IP Configuration:

- IP: `192.168.1.100`
- Máscara: `255.255.255.0`
- Gateway: 192.168.1.1
- DNS: `192.168.1.10` (o IP do servidor DNS)

### 4. Testar com Ping

No prompt do PC:

```bash
ping siteempresa.com
```

Se a configuração estiver correta, o PC converterá o nome para o IP.

---
# Como configurar m servidor DNS no Windows Server (exemplo real)

1. Instale o Windows Server
2. Acesse o **Gerenciador de Servidores**
3. Vá em **Adicionar Funções e Recursos**
4. Selecione a função **Servidor DNS**
5. Após instalar, abra o **Gerenciador DNS**
6. Crie uma **zona direta** (`empresa.local`) e adicione registros:
	- Tipo A (associa nome a IP)
	- CNAME, MX, etc.

---
# Configuração básica de DNS no Linux (Bind9)

1. Instale o BIND:

```bash
sudo apt update
sudo apt install bind9
```

2. Edite o arquivo de zona:

```bash
sudo nano /etc/bind/named.conf.locall
```

3. Crie arquivos de zona com registros `A`, `NS`, etc.
4. Reinicie o serviço:

```bash
sudo systemctl restart bind9
```

---
# Tipos de Registros DNS

| **Tipo** | **Função**                             |
| -------- | -------------------------------------- |
| A        | Associa nome a IP IPv4                 |
| AAAA     | Associa nome a IP IPv6                 |
| CNAME    | Cria um apelido para outro nome        |
| MX       | Define servidor de e-mail              |
| NS       | Define servidores de nome responsáveis |
| PTR      | Mapeia IP para nome (DNS reverso)      |

## Exemplo de registro

| **Nome**          | **Tipo** | **Valor**       |
| ----------------- | -------- | --------------- |
| `siteempresa.com` | A        | 192.168.1.10    |
| `www`             | CNAME    | siteempresa.com |

---
# Verificando a configuração

- Linux/Windows:

```bash
nslookup siteempresa.com
```

- Packet Tracer:
	- Use o comando no prompt do PC
	- Verifique o DNS Server respondendo à consulta

---
# Conclusão

Configurar um servidor DNS permite que dispositivos em rede utilizem nomes amigáveis ao invés de IPs para comunicação. É essencial para redes organizadas, websites internos e facilidade de uso.