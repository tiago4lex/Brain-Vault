2025-05-30 15:34

Status: #developed #redes

Tags: [[Redes de Computadores]] | [[DHCP]] | [[Endereçamento]] | [[Camada 7 - Aplicação]] | [[Configuração]]

----
# O que é DHCP?

O **DHCP (Protocolo de Configuração Dinâmica de Host)** é um protocolo de rede utilizado para **atribuir automaticamente** endereços IP a outros parâmetros de configuração de rede a dispositivos em uma rede local (LAN).

Sem DHCP, cada dispositivo precisaria ser configurado manualmente - oque é inviável em redes grandes.

----
# Para que serve?

- Atribuir **endereços IP automaticamente**
- Informar **máscara de sub-rede**
- Definir **gateway padrão**
- Fornecer **servidores DNS**
- Reduzir **erros manuais de configuração**
- Facilitar a administração de redes

---
# Como funciona o DHCP?

## Processo em 4 etapas (DORA)

| **Etapa** | **Descrição**                                                          |
| --------- | ---------------------------------------------------------------------- |
| Discover  | O cliente envia um broadcast DHCP Discover procurando um servidor DHCP |
| Offer     | O servidor responde com um DHCP Offer, oferecendo um endereço IP       |
| Request   | O cliente responde com um DHCP Request, solicitando o IP oferecido     |
| Ack       | O servidor envia um DHCP Acknowledgement, confirmando a atribuição     |

## Exemplo do processo

1. PC Liga -> envia `DHCP Discover`
2. Roteador responde -> `DHCP Offer (192.168.0.101)`
3. PC responde -> `DHCP Request (aceita o IP)`
4. Roteador confirma -> `DHCP Ack`

---
# Componentes principais

| **Componente** | **Função**                                                  |
| -------------- | ----------------------------------------------------------- |
| Servidor DHCP  | Atribui IPs e configurações (roteadores, servidores, etc.)  |
| Cliente DHCP   | Dispositivo que solicita IP (PC, celular, impressora, etc.) |
| Pool de IPs    | Faixa de endereços disponíveis para distribuição            |
| Lease time     | Tempo de validade da consessão de IP                        |

---
# Informações atribuídas pelo DHCP

- Endereço IP
- Máscara de sub-rede
- Gateway padrão
- Servidor DNS
- Nome de domínio (opcional)
- Tempo de concessão (lease time)

---
# DHCP na prática

**Exemplo de escopo DHCP**

| **Item**        | **Valor**                     |
| --------------- | ----------------------------- |
| Rede            | 192.168.1.0/24                |
| IPs disponíveis | 192.168.1.100 - 192.168.1.200 |
| Gateway         | 192.168.1.1                   |
| DNS             | 8.8.8.8                       |
| Lease time      | 24 horas                      |

---
# Onde o DHCP é usado?

- Redes domésticas (configurado no roteador Wi-Fi)
- Redes empresariais (servidores Windows/Linux)
- Escolas, universidades, hotéis, aeroportos
- Virtualização e redes em nuvem

---
# DHCP e Segurança

Apesar de prático, o DHCP pode ser explorado por atacantes:

- **DHCP spoofing:** dispositivo malicioso age como um falso servidor
- **Soluções:**
	- DHCP Snooping (em switches gerenciáveis)
	- Firewall e [[5.1 Redes Locais Virtuais (VLAN)]]
	- Controle de MAC address

---
# Modos de atribuição

| **Modo**          | **Descrição**                                        |
| ----------------- | ---------------------------------------------------- |
| Dinâmico          | IPs são atribuídos automaticamente e temporariamente |
| Estático via DHCP | IP é sempre reservado para um MAC específico         |
| Manual            | IP configuração diretamente no dispositivo           |

---
# Vantagens do DHCP

- Reduz configuração manual
- Evita conflitos de IP
- Escalável para redes com muitos dispositivos
- Fácil de manter e administrar

---
# Desvantagens do DHCP

- Dependência do servidor DHCP
- Menor controle sobre IPs sem filtros
- Pode ser inseguro sem proteção adequada

---
# Conclusão

O **DHCP é um dos pilares das redes modernas**, pois automatiza a distribuição de configurações IP. Ele é essencial para a escalabilidade, agilidade e simplicidade na administração de redes domésticas e corporativas.