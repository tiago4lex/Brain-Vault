2025-08-06 20:58

Status: #developed #seguranÃ§a 

Tags:  [[CyberSecurity]]

----
# ğŸ§° Etapa 1 - InstalaÃ§Ã£o das Ferramentas Principais

## ğŸ”² 1.1 VirtualBox

- Baixe: https://www.virtualbox.org/wiki/Downloads
- Instale o **Extension Pack** tambÃ©m (para USB, rede, etc.).

## ğŸ§  1.2 Imagem da MÃ¡quina Virtual

Baixe a ISO ou VM:

- **Ubuntu Server (alvo)**
    - Site: [https://ubuntu.com/download/server](https://ubuntu.com/download/server)
    - Recomendado: Ubuntu 22.04

- **WSL com Kali instalado** â†’ jÃ¡ configurado no seu Windows

---
# Etapa 2 - Criar e instalar o Ubuntu Server na VM

## 1. Criar VM no VirtualBox

- Nome: `ubuntu-alvo`
- Tipo: Linux
- VersÃ£o Ubuntu (64-bit)
- MemÃ³ria: **2048 MB**
- Disco: **20 GB VDI, dinÃ¢mico**

![[Pasted image 20250806210908.png]]

![[Pasted image 20250806210926.png]]

![[Pasted image 20250806210949.png]]

## 2. Montar a ISO e iniciar a instalaÃ§Ã£o

- VÃ¡ em "Armazenamento" > monte a ISO baixada.

- Inicie a VM e siga o processo de instalaÃ§Ã£o:
    - Idioma: PortuguÃªs ou InglÃªs (Ã  sua escolha)
    - Nome do usuÃ¡rio: `alvo`
    - Nome do computador: `ubuntu-alvo`
    - Escolha "InstalaÃ§Ã£o mÃ­nima" e "sem snapd" se for perguntado.
    - Finalize e reinicie a VM.

---
# ğŸŒ Etapa 3 â€“ Configurar a rede para que o Kali (WSL) acesse a VM

Como o Kali serÃ¡ usado atravÃ©s do WSL (Windows) e o Ubuntu estÃ¡ no VirtualBox, serÃ¡ necessÃ¡rio fazer com que a comunicaÃ§Ã£o entre as mÃ¡quinas funcionem usando **rede "*Host-Only Adapter*"**

## 1. Criar uma rede *"Host Only"* no VirtualBox

1. VÃ¡ em **VirtualBox > Arquivos > Gerenciador de Rede**

![[Pasted image 20250807112607.png]]

2. Clique no `+` para adicionar uma rede nova (ex.: `vboxnet0`)
3. Configure com IP, por exemplo:
	- Marque **Configurar Adaptador Manualmente**
	- EndereÃ§o: `192.168.56.1`
	- MÃ¡scara: `255.255.255.0`

![[Pasted image 20250807112720.png]]
## 2. Configurar a placa de rede da VM

1. VÃ¡ na VM `ubuntu-alvo` > ConfiguraÃ§Ãµes > Rede
2. Ative `Adaptador 1`
	- Modo: **Adaptador somente host *(Host-Only Adapter)***
	- Nome: `vboxnet0` (ou nome que foi criado)
3. Inicie a VM

![[Pasted image 20250807112852.png]]

---
# ğŸŒ Etapa 4 â€“ Configurar IP fixo na VM Ubuntu

ApÃ³s o boot da VM, vamos configurar um IP fixo dentro da rede `192.168.56.0/24`, para que o Kali via WSL consiga alcanÃ§Ã¡-la.


## 1. Edite o Netplan (gerenciado de rede do Ubuntu):


```bash
sudo nano /etc/netplan/00-installer-config.yaml
```

>[!note] ObservaÃ§Ã£o:
>Pode ser que dependendo da VM o nome do arquivo `.yaml` seja diferente, como por exemplo `50-cloud-init.yaml`

## 2. Exemplo do conteÃºdo:

```yaml
network:
	version: 2
	ethernets:
		enp0s3:
			dhcp4: no
			addresses: [192.168.56.10/24]
			gateway4: 192.168.56.1
			nameservers:
				addresses: [8.8.8.8, 1.1.1.1]
```

> FaÃ§a uma verificaÃ§Ã£o com o comando `ip a` para verificar se o nome da interface estÃ¡ correto, no nosso exemplo a interface Ã© `enp0s3`.

## 3. Aplicar as mudanÃ§as

```bash
sudo netplan apply
```

## 4. Testar conectividade

No **Windows**, abre o terminal do Kali WSL e faÃ§a:

```bash
ping 192.168.56.10
```


Se responder: âœ… ambiente de rede funcionando!

![[Pasted image 20250807114536.png]]

---
# ğŸ”’ Etapa 5 - Instalar e Verificar o OpenSSH na VM

## 1. Atualizar o sistema

```bash
sudo apt update && sudo apt upgrade -y
```

## 2. Instalar o OpenSSH Server

```bash
sudo apt install openssh-server -y
```

##  3. Verificar se o serviÃ§o estÃ¡ rodando

```bash
sudo systemctl status ssh
```

VocÃª deve ver algo como:

```arduino
â— ssh.service - OpenBSD Secure Shell server
   Active: activeÂ (running)
```

Se nÃ£o estiver ativo, inicie manualmente:

```bash
sudo systemctl start ssh
```

E ative para iniciar junto com o sistema:

```bash
sudo systemctl enable ssh
```

## 4. (Opcional) Verificar configuraÃ§Ã£o de seguranÃ§a

Voce pode editar o arquivo de configuraÃ§Ã£o do SSH:

```bash
sudo nano /etc/ssh/sshd_config
```

RecomendaÃ§Ãµes:

- Para testes com forÃ§a bruta deixe:

```ini
PermitRootLogin yes
PasswordAuthentication yes
```

> Caso algumas desta opÃ§Ãµes jÃ¡ estejam no arquivo de configuraÃ§Ãµes como comentÃ¡rios, remova `#` para remover o comentÃ¡rio na opÃ§Ã£o desejada.

![[Pasted image 20250807120343.png]]

- ApÃ³s os testes, **volte para:**

```init
PermitRootLogin no
```

Depois de editar, renicie o serviÃ§o:

```bash
sudo systemctl restart ssh
```

## 5. Teste o acesso via Kali (WSL)

```bash
ssh alvo@192.168.56.10
```

![[Pasted image 20250807120713.png]]

---
# ğŸ¯ Pronto! Seu alvo estÃ¡ configurado

VocÃª agora tem:

- ğŸ–¥ Uma VM Ubuntu Server com IP fixo 192.168.56.10
- ğŸ“¡ ServiÃ§o SSH ativo para testes de forÃ§a bruta
- ğŸŒ Acesso remoto via KaliÂ LinuxÂ noÂ WS