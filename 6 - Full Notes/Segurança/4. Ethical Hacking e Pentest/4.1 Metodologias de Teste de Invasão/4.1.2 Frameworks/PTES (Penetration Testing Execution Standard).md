2025-07-26 16:45

Status: #developed #seguranÃ§a 

Tags: [[CyberSecurity]] | [[PTES]]

----
# IntroduÃ§Ã£o

O ***Penetration Testing Execution Standard* (PTES)** Ã© um framework amplamente reconhecido que define as melhores prÃ¡ticas para a execuÃ§Ã£o de testes de penetraÃ§Ã£o. Criado por especialistas em seguranÃ§a cibernÃ©tica, o PTES fornece um **guia estruturado** para conduzir pentests de forma consistente, abrangente e eficiente.

![[Pasted image 20250726164908.png]]

## Objetivos do PTES:

- Padronizar metodologias de pentest;
- Garantir cobertura completa de vulnerabilidades.
- Facilitar a comunicaÃ§Ã£o entre pentesters e stakeholders.

---
# As 7 Fases do PTES

O PTES divide o processo do pentest em **sete fases**:

| **Fase**                       | **DescriÃ§Ã£o**                                               |
| ------------------------------ | ----------------------------------------------------------- |
| 1. PrÃ©-Engajamento             | DefiniÃ§Ã£o de escopo, regras e objetivos.                    |
| 2. Coleta de InformaÃ§Ãµes       | Coleta de dados pÃºblicos (OSINT) e reconhecimento.          |
| 3. Modelagem de AmeaÃ§as        | IdentificaÃ§Ã£o de vetores de ataque relevantes.              |
| 4. AnÃ¡lise de Vulnerabilidades | Varredura ativa/passiva de falhas.                          |
| 5. ExploraÃ§Ã£o                  | ExploraÃ§Ã£o de vulnerabilidades para ganhar acesso.          |
| 6. PÃ³s-ExploraÃ§Ã£o              | ManutenÃ§Ã£o de acesso, pivoting e coleta de dados sensÃ­veis. |
| 7. RelatÃ³rio                   | DocumentaÃ§Ã£o de achados, risos e recomendaÃ§Ãµes.             |

---
# Detalhamento das Fases

## 1. PrÃ©-Engajamento

**Objetivo:** Estabelecer os parÃ¢metros do teste.

**Atividades:**

- Definer **escopo** (IPs, aplicaÃ§Ãµes, sistemas).
- Acordar **regras de engajamento** (horÃ¡rios, mÃ©todos permitidos).
- Assinar **termos de autorizaÃ§Ã£o** (Legalidade).
- Identificar **contatos-chave** para comunicaÃ§Ã£o.

> [!example] Exemplo:
> - **Escopo:** AplicaÃ§Ã£o web em `https://exemplo.com`
> - **MÃ©todos:** Testes nÃ£o-destrutivos (sem DDoS).

# 2. Coleta de InformaÃ§Ãµes (Reconhecimento)

**Objetivo:** Coletar dados para identificar possÃ­veis vetores de ataque.

**TÃ©cnicas:**

- **Passivo:**
	- WHOIS, DNS lookup (`dig`, `nslookup`).
	- OSINT (Google Dorks, redes sociais).

- **Ativo:**
	- Varredura de portas (`nmap`).
	- EnumeraÃ§Ã£o de serviÃ§os (`Nikto`, `GoBuster`).

>[!example] Exemplo:
>```bash
>nmap -sV -p 1-1000 192.168.1.100
>```

# 3. Modelagem de AmeaÃ§as

**Objetivo:** Priorizar alvos com base em riscos reais.

**Abordagens:**

- Identificar **ativos crÃ­ticos** (ex.: banco de dados, painel admin).
- Mapear **cenÃ¡rios de ataque** (ex.: SQLi em formulÃ¡rio de login).
- Considerar **perfil do invasor** (ex.: insider threat, hacker externo).

>[!example] Exemplo:
>- **AmeaÃ§a #1:** InjeÃ§Ã£o SQL no endpoint `/login.php`
>- **AmeaÃ§a #2:** Senhas padrÃ£o no serviÃ§o SSH.

# 4. AnÃ¡lise de Vulnerabilidades

**Objetivo:** Identificar falhas conhecidas.

**Ferramentas:**

- **AutomÃ¡ticas:**
	- `Nessus`, `OpenVAS` (varreduras abrangentes).
	- `Burp Suite` (para aplicaÃ§Ãµes web).

- **Manuais:**
	- InspeÃ§Ã£o de configuraÃ§Ãµes (ex.: permissÃµes de arquivos).

>[!example] Exemplo:
>```bash
>nikto -h http://example.com
>```

## 5. ExploraÃ§Ã£o

**Objetivo:** Comprometer sistemas explorando vulnerabilidades.

**TÃ©cnicas Comuns:**

- **AplicaÃ§Ã£o Web:**
	- SQL Injection, XSS, RCE.

- **Redes:**
	- ExploraÃ§Ã£o de serviÃ§os vulnerÃ¡veis (ex.: EternalBlue no SMB).

- **Engenharia Social:**
	- Phishing (simulado).

> [!example] Exemplo:
> ```bash
> msfconsole -x "use exploit/multi/handler; set payload windows/meterpreter/reverse_tcp; set LHOST 10.0.0.1; run"
> ```

## 6. PÃ³s-ExploraÃ§Ã£o

**Objetivo:** Manter acesso e escalar privilÃ©gios.

**Atividades:**

- ***Privilege Escalation:***
	- Uso de ferramentas como `LinPEAS` (Linux) ou `WinPEAS` (Windows).

- ***Pivoting:***
	- Extrair credenciais (`Mimikatz`), logs sensÃ­veis.

>[!example] Exemplo:
>```bash
>meterpreter > run post/multi/recon/local_exploit_suggester
>```

## 7. RelatÃ³rio

**Objetivo:** Comunicar resultados de forma clara e acionÃ¡vel.

**Estrutura Recomendado:**

1. **Resumo Executivo:**
	- Impacto geral e riscos crÃ­ticos.

2. **Metodologia:**
	- TÃ©cnicas utilizadas.

3. **Achados Detalhados:**
	- Vulnerabilidades (CVSS, evidÃªncias).

4. **RecomendaÃ§Ãµes:**
	- CorreÃ§Ãµes prioritÃ¡rias (ex.: patch do SQLi).

> [!note] Modelo:
> - **CVE-2023-1234:** SQL Injection em `/admin.php` (CVSS 9.8).
> - **SoluÃ§Ã£o:** Validar inputs com prepared statements.

---
# Vantagens do PTES

âœ…Â **PadronizaÃ§Ã£o:**Â Metodologia reconhecida globalmente.  
âœ…Â **AbrangÃªncia:**Â Cobre desde reconhecimento atÃ© pÃ³s-exploraÃ§Ã£o.  
âœ…Â **Flexibilidade:**Â AdaptÃ¡vel a diferentes tipos de pentest (web, rede, IoT).

---
# ComparaÃ§Ã£o com Outros PadrÃµes

| **PadrÃ£o**          | **Foco**                            | **DiferenÃ§a do PTES**                     |
| ------------------- | ----------------------------------- | ----------------------------------------- |
| OSSTMM              | MÃ©tricas de seguranÃ§a fÃ­sica/lÃ³gica | Mais tÃ©cnico, menos focado em relatÃ³rios. |
| NIST SP 800-115     | Guia de testes do governo EUA       | Menos detalhado em exploraÃ§Ã£o.            |
| OWASP Testing Guide | Focado em aplicaÃ§Ãµes web            | NÃ£o cobre redes ou sistemas.              |

---
# Ferramentas Recomendadas por Fase

| **Fase PTES**               | **Ferramentas**                         |
| --------------------------- | --------------------------------------- |
| Coleta de informaÃ§Ã£o        | `nmap`,Â `theHarvester`,Â `Maltego`       |
| AnÃ¡lise de Vulnerabilidades | `Nessus`,Â `Burp Suite`,Â `Metasploit`    |
| ExploraÃ§Ã£o                  | `SQLmap`,Â `Cobalt Strike`,Â `Exploit-DB` |
| PÃ³s-ExploraÃ§Ã£o              | `Mimikatz`,Â `BloodHound`,Â `Empire`      |

---
# ConclusÃ£o

O PTES Ã©Â **o padrÃ£o mais completo**Â para pentests, garantindo:  
ğŸ”¹Â **EficiÃªncia**Â (metodologia passo a passo).  
ğŸ”¹Â **Reprodutibilidade**Â (resultados consistentes).  
ğŸ”¹Â **Clareza**Â (relatÃ³rios acionÃ¡veis).

>[!note] RecomendaÃ§Ã£o Final:
>- Use o PTES como base para seus projetos de seguranÃ§a.
>- Combine frameworks como **MITRE ATT&CK** para anÃ¡lise avanÃ§ada de ameaÃ§as.

---
# ReferÃªncias

- [Site Oficial PTES](http://www.pentest-standard.org/)
- [Guia NIST SP 800-115](https://csrc.nist.gov/publications/detail/sp/800-115/final)
