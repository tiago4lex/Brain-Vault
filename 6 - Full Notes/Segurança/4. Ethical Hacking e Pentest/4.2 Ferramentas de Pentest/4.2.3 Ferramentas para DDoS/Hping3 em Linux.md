2025-06-02 18:58

Status: #developed #segurança 

Tags: [[CyberSecurity]] | [[hping3]] | [[Pentest]] | [[DDoS]] | [[Ferramentas]]

----
# Oque é Hping3

O Hping3 é um utilitário de linha de comando para criar e enviar pacotes TCP/IP personalizados. É uma ferramenta versátil que permite executar diversas tarefas, como varredura de rede, impressão digital e testes de segurança de rede. Com o Hping3, você pode simular diferentes tipos de tráfego de rede, tornando-o uma ferramenta valiosa para testes e solução de problemas de rede.

---
# Instalação em diferentes distribuições Linux

## Debian/Ubuntu

```bash
sudo apt-get install hping3
```

## Red Hat/CentOS

```bash
sudo yum install hping3
```

## Arch Linux

```bash
yay -S hping
```

---
# Como o Hping3 funciona?

O Hping3 permite criar e enviar pacotes TCP/IP personalizados, possibilitando:

- **Modificação de cabeçalhos** (TCP, UDP, ICMP).
- **Ataques de rede controlado** (SYN Flood, UDP Flood).
- **Testes de firewall** (verificar se portas estão abertas/filtradas).
- **Análise de resposta** (TTL, flags TCP).

---
# Modos de Operação do Hping3

## Uso padrão

Imagine que você deseja se comunicar com o servidor web do Google, mas não apenas visitando um site; você deseja enviar uma mensagem para ele. Veja como fazer:

```bash
sudo hping3 -c 3 -p 80 google.com
```

**Vamos analisar:**
- `sudo` : Este comando permite que o usuário obtenha super permissão para realizar comandos.
- `hping3`: Este comando chama a ferramenta
- `-c 3`: Esta parte do comando informa que serão enviados 3 pacotes, por exemplo: mandar "Olá" três vezes para o site Google.
- `-p 80`: Esta parte do comando informa que as três mensagens serão enviadas para a porta 80.
- `google.com`: Aqui é informado o destinatário das mensagens enviadas.

Ao pressionar Enter, o computador enviará três mensagens especiais (pacotes de solicitação de eco ICMP) para o servidor web do Google, solicitando uma resposta. Se tudo correr bem o hping3 informará a velocidade com que as mensagens foram enviadas e se alguma foi perdida.

Em outras palavras, o Hping3 ajuda a "conversar" com outros computadores na internet e verificar se eles estão funcionando. Você pode usar isso para verificar se sites estão ativos e testar conexões de rede.

![[Pasted image 20250602191135.png]]

## Modo TCP

Envia pacotes TCP para uma porta específica

```bash
hping3 -S -p 80 [IP-alvo]
```

- `-S` = Flag SYN (handshake TCP).
- `-p 80` = Porta de destino.

## Modo UDP

Envia pacotes UDP

```bash
hping3 --udp -p 53 [IP-alvo]
```

## Modo ICMP (Ping Avançado)

Funciona como um ping, mas com mais opções.

```bash
hping3 -1 [IP-Alvo]
```

- `-1` = Modo ICMP

## Modo Flood (Ataque de Rede)

Inunda o alvo com pacotes

```bash
hping3 -S -p 80 --flood [IP-Alvo]
```

- `--flood` = Envia pacotes o mais rápido possível.

---
# Exemplos Práticos

## 1. Teste de Porta TCP

Verifica se a porta 80 está aberta.

```bash
hping3 -S -p 80 192.168.1.1
```

- Se receber respostas `SYN-ACK` , a porta está aberta.

## 2. SYN Flood (Ataque DDoS Simulado)

```bash
hping3 -S -p 80 --flood --rand-source 192.168.1.1
```

- `--rand-source` = Usa IPs falsos para dificultar rastreamento.

## 3. Envio de Dados Personalizados

```bash
hping3 -p 80 -E arquivo.txt -d 100 192.168.1.1
```

- `-E arquivo.txt` = inclui conteúdo do arquivo no pacote
- `-d 100` = tamanho do payload (100 bytes)

## 4. Varredura de Portas

```bash
hping3 --scan 1-1000 -S 192.168.1.1
```

- Escaneia portas de 1 a 1000 usando SYN;

---
# Técnicas Avançadas

A ferramenta Hping3 se torna mais poderosa quando se explora opções mais avançadas da ferramenta, como por exemplo:

- **Teste de Firewall:** O Hping3 pode ser usado para testar a resiliência das suas regras de firewall enviando pacotes com vários sinalizadores e opções de TCP, verificando assim se regras estão bloqueando tráfego.
- **Tracerouting:** A ferramenta Hping3 pode ser usada para rastrear o caminho percorrido por pacotes até chegar ao seu destino.
- **Geração de tráfego:** pode gerar padrões de tráfego de rede para simular diferentes tipos de ataques ou carga em uma rede.
- **Criação de Pacotes:** Crie pacotes personalizados para testar como seus dispositivos e aplicativos de rede os manipulam.
- **Impressão digital:** Identifique o sistema operacional ou o tipo de dispositivo de um host remoto analisando sua resposta aos pacotes criados.
- **Pentest de Redes**: Identificar portas abertas e serviços vulneráveis.
- **Simulação de Ataques DDoS**: Avaliar resistência de sistemas.
- **Análise de Resposta de Servidores**: Verificar TTL e comportamento de serviços.

---
# Riscos e Considerações Éticas

- **Uso ilegal**: Ataques sem autorização são crimes cibernéticos.
- **Impacto em redes**: Floods podem causar indisponibilidade real.
- **Sempre obtenha permissão** antes de testar em redes alheias.

---
# Conclusão

O Hping3 é uma ferramenta poderosa para administradores de rede e pentesters, permitindo desde análises simples até testes avançados de segurança. **Use com responsabilidade.**

---

# Referências

- [Manual do Hping3](http://www.hping.org/)
- [Guia de Pentest com Hping3](https://www.offensive-security.com/)
- [hping3 Command in Linux](https://www.geeksforgeeks.org/hping3-command-in-linux/)

**Aviso Legal**: O uso indevido pode violar leis. Utilize apenas em ambientes autorizados.