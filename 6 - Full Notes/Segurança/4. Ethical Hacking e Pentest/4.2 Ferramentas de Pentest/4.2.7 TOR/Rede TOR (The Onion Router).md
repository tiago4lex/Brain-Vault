2025-08-12 13:21

Status: #developed #segurança 

Tags: [[CyberSecurity]] | [[TOR]]

----
# Introdução

**TOR *(The Onion Router)*** é uma rede de anonimato que permite navegar na internet e acessar serviços de forma privada, roteando o tráfego através de múltiplos nós *(relays)* criptografados.

## Principais Características

- **Anonimato** (oculta seu IP real)
- **Criptografia em camadas** (como uma "cebola")
- **Acesso à Dark Web** (sites `.onion`)
- **Resistência à censura** (útil em regimes opressivos)

![[Pasted image 20250812132513.png]]

---
# Como funciona o TOR?

O tráfego por 3 nós aleatórios antes de chegar ao destino:

1. ***Guard Relay* (Entrada)**: Conhece seu IP, mas não o destino
2. ***Middle Relay***: Não sabe origem nem destino
3. ***Exit Relay***: Conhece o destino, mas não a origem

![[Pasted image 20250812132526.png]]

---
# Instalação e Uso do TOR no Terminal (Linux)

## Passo 1: Instalar o TOR

```bash
sudo apt update && sudo apt install tor -y # Debian/Ubuntu
sudo systemctl start tor                   # Iniciar serviço
sudo systemctl enable tor                  # Iniciar automaticamente
```

## Passo 2: Verificar Funcionamento

```bash
curl --socks5-hostname 127.0.0.1:9050 https://check.torproject.org/api/ip
```

Se aparecer `"IsTor": True`, você está anônimo.

## Passo 3: Navegação Anônima via Terminal

- **Usando `curl` com TOR:**

```bash
curl --socks5-hostname 127.0.0.1:9050 http://example.com
```

- **Usando `torsocks` (para qualquer aplicativo):**

```bash
sudo apt install torsocks
torsocks wget http://example.com
```

## Passo 4: Acessar a Dark Web

- **Instale `torify`**

```bash
sudo apt install torify
```

- **Acesse um site `.onion`**

```bash
torify curl http://duckduckgogg42xjoc72x3sjasowoarfbgcmvfimaftt6twagswzczad.onion 
```

---
# Usos do TOR em Cibersegurança

## a) Pentesting e OSINT

- **Anonimato em testes de invasão:**

```bash
torsocks nmap -sT -Pn target.com
```

- **Coleta de informações (OSINT) sem expor IP.**

## b) Acesso a Mercados e Fóruns da Dark Web

- **Exploração de vazamentos de dados** (ex.: `Have I Been Pwned` em fóruns `.onion`).
- **Monitoramento de ameaças** (grupos hackers, venda de exploits).

## c) Bypass de Censura e Firewalls

- **Acesso a serviço bloqueado** (ex.: Telegram em países censurados).
- **SSH anônimo:**

```bash
torsocks ssh user@server.com
```

## d) Comunicação Anônima

- **E-mail criptografado** (ProtonMail, Tutanota via TOR).
- **Chat seguro** (Ricochet, Jabbe + OTR).

---
# Exemplos Práticos de Uso do TOR

## Exemplo 1: Varredura Anônima com `nmap`

```bash
torsocks nmap -sV -Pn -T4 example.com
```

## Exemplo 2: Download Anônimo de Arquivos

```bash
torify wget http://example.com/sensitive-file.zip
```

## Exemplo 3: Acesso a um Serviço Onion

```bash
torify cul -x socks5h://127.0.0.1:9050 http://facebookcorewwwi.onion
```

---
# Riscos e Mitigações

## Riscos Comuns

❌ **Exit Nodes Maliciosos** (podem interceptar tráfego não criptografado).
❌ **Vazamento de DNS** (use `DNSCrypt` ou `DNS over TOR`).
❌ **Ataque de Timing** (se o adversário controlar muitos nós). 

## Como se Proteger

✅ **Use HTTPS sempre** (evita espionagem no Exit Node).
✅ **Desative JavaScript** (reduz fingerprinting).
✅ **Combine TOR com VPN** (mais camadas de privacidade).

---
# Conclusão

O TOR é uma ferramenta poderosa para **anonimato, privacidade e resistência à censura**, mas deve ser usado com cautela. Seja para **pentesting, OSINT ou navegação segura**, dominar o TOR no terminal é essencial para profissionais de segurança.

---
# Referências

[Site Oficial do TOR](https://www.torprojetc.org)
