2025-06-24 11:50

Status: #developed #segurança 

Tags: [[CyberSecurity]] | [[Ferramentas]] | [[Pentest]] | [[Burp Suite]]

----
# Introdução

O **Burp Suite** é a ferramenta líder para testes de segurança em aplicações web, desenvolvida pela PortSwigger. Oferece um conjunto integrado de ferramentas para ***pentesting***, **análise de vulnerabilidades** e **interceptação de tráfego**.

![[Pasted image 20250624115657.png]]

---
# Principais Módulos e Suas Funções

## 1. Dashboard (Painel de Controle)

![[Pasted image 20250624115616.png]]

- **Função:** Visão geral do projeto, histórico de tarefas e configurações rápidas.
- **Exemplo:** Inicie um novo projeto ou carregue um existente para continuar testes.

## 2. Target (Alvo)

- **Função:** Mapeamento de aplicação (URLs, endpoints, arquivos).
- **Exemplo Prático:**
	1. Acesso `http://testphp.vulnweb.com`.
	2. No ***Site Map***, é possível ver a estrutura de diretórios e parâmetros descobertos.

![[Pasted image 20250624120454.png]]

## 3. Proxy (Interceptação)

- **Função:** Intercepta e modifica requisições/respostas HTTP/HTTPS em tempo real.
- **Exemplo:**

```http
GET /login.php HTTP/1.1
Host: exemplo.com
```

- **Modificado para:**

```http
POST /login.php HTTP/1.1
Host: exemplo.com
Content-Type: application/x-www-form-urlencoded
uname=admin&pass=password
```

![[Pasted image 20250624120752.png]]

![[Pasted image 20250624120807.png]]

## 4. Intruder (Ataques Automatizados)

- **Função:** Teste de força bruta, SQLi, enumeração de parâmetros.
- **Exemplo** (Força Bruta em Login):
	1. Selecione a requisição login no Proxy.
	2. Envie para o Intruder
	3. Marque o parâmetro `pass` como payload
	4. Use a wordlist `rockyou.txt` e execute.

### Configuração básica do Intruder

#### Passo 1: Capturar a requisição

1. Intercepte uma requisição usando o **Proxy** (ex: login, busca, API).
2. Clique com o botão direito e selecionar `Send to Intruder` ou `CTRL + I`

#### Passo 2: Seleção do Tipo de Ataque

| **Tipo de Ataque** | **Uso**                                                            |
| ------------------ | ------------------------------------------------------------------ |
| *Sniper*           | Testa um parâmetro por vez (ideal para força bruta)                |
| *Battering Ram*    | Injeta o mesmo payload em mútiplos parâmetros                      |
| *Pitchfork*        | Usa diferentes wordlists para parâmetros distintos                 |
| *Cluster Bomb*     | Combina todas as variações de payloads (para múltiplos parâmetros) |
#### Passo 3: Marcando os Parâmetros

1. Na aba `Positions`, a requisição aparecerá com os parâmetros destacados
2. Clique em `Clear $` para remover marcações automáticas
3. Selecione manualmente o(s) parâmetro(s) a ser(em) testado(s) com `Add $`:

```http
POST /login.php HTTP/1.1
Host: exemplo.com
Content-Type: application/x-www-form-urlencoded

username=$admin$&password=$12345$
```

- Aqui, `username` e `password` são os alvos.

#### Passo 4: Escolhendo a Fonte de Payloads

Na aba `Payloads`

1. **Payload Type:** Selecione o tipo (ex: `Simple List` para wordlists).
2. **Payload Options:**
	- Carregue uma wordlist(`.txt`) com **"Load"**
	- Ou use payloads pré-definidos (números, caracteres especiais)

## 5. Repeater (Reteste Manual)

- **Função:** Envie e modifique requisições repetidamente para análise.
- **Exemplo:**
	- Teste diferentes valores em `?id=1` para SQL Injection

```http
GET /produte.php?id=1' AND 1=1-- HTTP/1.1
```

## 6. Scanner (Análise Automática de Vulnerabilidades)

- **Função** (Versão Pro): Varredura automática de XSS, SQLi, etc.
- **Exemplo:**
	1. Navegue pelo site com o Proxy ativo.
	2. No **Scanner**, clique em `Scan` para iniciar a análise.

![[Pasted image 20250624130807.png]]

## 7. Sequencer (Análise de Tokens)

- **Função:** Avalia a aleatoriedade de tokens de sessão.
- **Exemplo:**
	1. Capture um cookie de sessão (`PHPSESSID=abc123`).
	2. Cole no Sequencer para testar entropia.

## 8. Decoder (Codificação/Decodificação)

- **Função:** Conversão entre Base64, URL Encode, Hex, etc.
- **Exemplo:**
	- Decodifique `%3Cscript%3Ealert(1)%3C%2Fscript%3E` para ver o XSS.

## 9. Comparer (Diferenças Entre Respostas)

- **Função:** Compara respostas para encontrar vazamentos de dados.
- **Exemplo:**
	1. Compare respostas de `/?id=1` e `/?id=2` para detectar IDOR.

## 10. Extender (Extensões)

- **Função:** Compara respostas para encontrar vazamentos de dados.
- **Exemplo:**
	- Instale o **Turbo Intruder** para ataques de alta velocidade.

---
# Exemplo Completo: Explorando SQL Injection

## Passo 1: Intercepte a Requisição

1. No **Proxy**, capture

```http
GET /produto.php?id=1 HTTP/1.1
```

## Passo 2: Envie para o Repeater

- Modifique para:

```http
GET /produto.php?id=1' ORDER BY 1-- HTTP/1.1
```

- Aumente o número até gerar um erro (`ORDER BY 5--`)

## Passo 3: Use o Intruder para Exploração

1. Configure o ataque para testar payloads como:

```sql
1' AND (SELECT 1 FROM users WHERE username='admin' AND LENGTH(password)=0)--
```

