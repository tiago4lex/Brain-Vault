2025-06-29 11:05

Status: #developed #segurança 

Tags: [[CyberSecurity]] | [[Ferramentas]] | [[curl]]

----
# Introdução

O **cURL** *(Client URL)* é uma ferramenta de linha de comando e biblioteca (`libcurl`) para transferir dados usando diversos protocolos, como **HTTP**, **HTTPS**, **FTP**, **FTPS**, **SCP**, **LDAP**, **SMTP**, **IMAP** e muitos outros. Ele é amplamente utilizado para interagir com APIs, testar serviços web, automatizar transferências de arquivos e até em operações de cibersegurança.

---
# Para que serve o cURL?

- **Testar APIs RESTful** (GET, POST, PUT, DELETE)
- **Download/Upload de arquivos** via HTTP, FTP, etc.
- **Automação de tarefas** em scripts (Bash, Python, etc.)
- **Depuração de serviços web** (verificar cabeçalhos, cookies, etc.)
- **Cibersegurança** (testar vulnerabilidades, explorar APIs, interagir com servidores)
- **Simular requisições de navegadores** (User-Agent, headers personalizados)

---
# Instalação do cURL

O `cURL` geralmente vem pré-instalado em sistemas Linux e macOS. No Windows, pode ser baixado no [site oficial](https://curl.se/) ou instalado via **Git Bash** ou **WSL**.

## Verificar Instalação

```bash
curl  --version
```

## Instalar no Linux (Debian/Ubuntu)

```bash
sudo apt install curl
```

## Instalar no Windows (via Chocolatey)

```bash
choco install curl
```

---
# Sintaxe Básica

```bash
curl [OPÇÕES] [URL]
```

## Opções mais comuns

| **Opção** | **Descrição**                                 |
| --------- | --------------------------------------------- |
| `-X`      | Define o método HTTP (GET, POST, PUT, DELETE) |
| `-H`      | Adiciona cabeçalhos (headers) personalizados  |
| `-d`      | Envia dados no corpo da requisição (POST/PUT) |
| `-o`      | Salva a saída em um arquivo                   |
| `-O`      | Baixa um arquivo mantendo o nome original     |
| `-i`      | Mostra cabeçalhos da reposta                  |
| `-v`      | Modo verboso (mostra detalhes da requisição)  |
| `-u`      | Autenticação (usuário:senha)                  |
| `-k`      | Ignora verificação SSL (útil para testes)     |
| `-L`      | Segue redirecionamentos                       |
| `-A`      | Define o User-Agent                           |

---
# Exemplos Práticos

## 1. Requisição GET Básica

```bash
curl https://api.exemple.com/data
```

## 2. Salvar Saída em um Arquivo

```bash
curl -o output.txt https://exemplo.com
```

## 3. Envia Dados via POST (JSON)

```bash
curl -X POST -H "Content-Type: application/json" -d '{"user":"admin","pass":"123"}' https://api.example.com/login
```

## 4. Autenticação Básica (HTTP Basic Auth)

```bash
curl -u usuario:senha https://api.example.com/protected
```

## 5. Baixar Arquivo via FTP

```bash
curl -u user:pass -O ftp://example.com/file.zip
```

## 6. Testar Cabeçalhos HTTP

```bash
curl -I https://example.com
```

## 7. Simular Navegador (User-Agent)

```bash
curl -A "Mozilla/5.0 (Windows NT 10.0; Win64; x64)" https://example.com
```

## 8. Enviar Arquivo via POST (Upload)

```bash
curl -X POST -F "file@document.pdf" https://api.example.com/upload
```

## 9. Seguir Redirecionamentos (301/302)

```bash
curl -L https://example.com/old-link
```

## 10. Ignorar Certificado SSL (para testes)

```bash
curl -k https://self-signed-certificate-site.com
```

---
# Usos em Cibersegurança

O `cURL` é frequentemente usado por pentesters e analistas de segurança para:

## 1. Testar Vulnerabilidades em APIs

```bash
# Testar SQL Injection
curl -X POST -d "user=admin' OR '1'='1" https://example.com/login
```

## 2. Enumerar Diretórios

```bash
curl https://example.com/admin --path-as-is
```

## 3. Brute Force Básico (com Bash)

```bash
for pass in $(cat wordlist.txt); do
    curl -X POST -d "user=admin&pass=$pass" https://example.com/login -v | grep "Login failed" || echo "Senha encontrada: $pass"
done
```

## 4. Testar Headers de Segurança

```bash
curl -I https://example.com | grep -i "X-XSS-Protection\|Content=Security-Policy"
```

## 5. Interagir com WebSockets (via cURL + outros tools)

```bash
curl --include --no-buffer --header "Connection: Upgrade" --header "Upgrade: websocket" --header "Sec-WebSocket-Key: SGVsbG8sIHdvcmxkIQ==" --header "Sec-WebSocket-Version: 13" http://example.com/ws
```

## 6. Exploração de SSRF *(Server-Side Request Forgery)*

```bash
curl "http://vulnerable-site.com/fetch?url=http://internal-server.local"
```

---
# Outros Usos Avançados

## Usar Proxy

```bash
curl -x http://proxy.example.com:8080 https://target.com
```

## Enviar Cookies

```bash
curl -b "session=abc123" https://example.com/dashboard
```

## Usar cURL com Tor (Anonimato)

```bash
curl --socks5-hostname localhost:9050 https://check.torproject.org
```

## Testar Tempo de Resposta

```bash
curl -w "%{time_total}\n" -o /dev/null -s https://example.com
```

## Enviar Dados Codificados (URL-encoded)

```bash
curl --data-urlencode "query=hello world" https://example.com/search
```

---
# Conclusão

O `cURL` é uma ferramenta **poderosa e versátil** para interagir com serviços web, APIs e servidores remotamente. Seu uso em **cibercegurança** é essencial para testes de penetração, análise de vulnerabilidades e automação de tarefas. Combinado com outras ferramentas como `jq` (par JSON) e `grep`, ele se torna ainda mais eficiente.

---
# Referências

- [Manual Oficial do cURL](https://curl.se/docs/manual.html)
- [Cheat Sheet de cURL](https://quickref.me/curl.html)
- [OWASP Testing Guide](https://owasp.org/www-project-web-security-testing-guide/)